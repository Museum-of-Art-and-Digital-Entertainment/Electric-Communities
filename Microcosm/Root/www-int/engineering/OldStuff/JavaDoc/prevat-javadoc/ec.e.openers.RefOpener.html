<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Wed Apr 16 18:47:54 PDT 1997 -->
<a name="_top_"></a>
<title>
  Class ec.e.openers.RefOpener
</title>
</head>
<body>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.openers.html">This Package</a>  <a href="ec.e.openers.PEHashtableRecipe.html#_top_">Previous</a>  <a href="ec.e.openers.RootClassRecipe.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.e.openers.RefOpener
</h1>
<pre>
<a href="java.lang.Object.html#_top_">java.lang.Object</a>
   |
   +----<a href="ec.e.openers.Opener.html#_top_">ec.e.openers.Opener</a>
           |
           +----ec.e.openers.RefOpener
</pre>
<hr>
<dl>
  <dt> public class <b>RefOpener</b>
  <dt> extends <a href="ec.e.openers.Opener.html#_top_">Opener</a>
</dl>
An Opener for objects and variables of reference types, ie,
non-scalars.
<hr>
<a name="index"></a>
<h2>
  <img src="images/variable-index.gif" width=207 height=38 alt="Variable Index">
</h2>
<dl>
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#TYPE"><b>TYPE</b></a>
  <dd> 
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#commentary()"><b>commentary</b></a>()
  <dd> 
Returns an Object to be taken as a semantics-free commentary on
the kind of information revealed by this Opener.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#decodeBody(java.lang.Object, ec.e.openers.RtDecoder)"><b>decodeBody</b></a>(Object, RtDecoder)
  <dd> Assuming the preface has already been decoded, decode into the
body of 'ref' from the decoder, and initialize 'ref' accordingly.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#decodeFrom(ec.e.openers.RtDecoder)"><b>decodeFrom</b></a>(RtDecoder)
  <dd> Delegates to the decoder

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#decodePreface(ec.e.openers.RtDecoder)"><b>decodePreface</b></a>(RtDecoder)
  <dd> Decodes the object's preface from 'decoder', then makes and
returns the object to be registered for decoded pointers to
point to.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#encodeBody(java.lang.Object, ec.e.openers.RtEncoder)"><b>encodeBody</b></a>(Object, RtEncoder)
  <dd> 
Assuming the preface has already been encoded, encode the
body of 'ref' onto encoder.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#encodeItTo(java.lang.Object, ec.e.openers.RtEncoder)"><b>encodeItTo</b></a>(Object, RtEncoder)
  <dd> Delegates to the encoder

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#encodePreface(java.lang.Object, ec.e.openers.RtEncoder)"><b>encodePreface</b></a>(Object, RtEncoder)
  <dd> Encode preface information for 'ref' onto 'encoder'.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#maker()"><b>maker</b></a>()
  <dd> Returns the OpenerRecipe for making openers with the same point
of view as this one.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#openerID()"><b>openerID</b></a>()
  <dd> An openerID identifies both the type encoded/decoded by
the opener, as well as the types of the arguments to this
encoding/decoding.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#signature()"><b>signature</b></a>()
  <dd> Signatures are according to the Java Virtual Machine Specification.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#signatureOf(java.lang.Class)"><b>signatureOf</b></a>(Class)
  <dd> Returns the signature of a class according to the Java Virtual
Machine Specification.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#type()"><b>type</b></a>()
  <dd> Returns a Class for the type that this Opener opens.
</dl>
<a name="variables"></a>
<h2>
  <img src="images/variables.gif" width=153 height=38 alt="Variables">
</h2>
<a name="TYPE"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>TYPE</b>
<pre>
  public final static <a href="java.lang.Class.html#_top_">Class</a> TYPE
</pre>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="maker()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="maker"><b>maker</b></a>
<pre>
  public <a href="ec.e.openers.OpenerRecipe.html#_top_">OpenerRecipe</a> maker()
</pre>
<dl>
  <dd> Returns the OpenerRecipe for making openers with the same point
of view as this one.
</dl>
<a name="type()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="type"><b>type</b></a>
<pre>
  public <a href="java.lang.Class.html#_top_">Class</a> type()
</pre>
<dl>
  <dd> Returns a Class for the type that this Opener opens.
  <dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.e.openers.Opener.html#type()">type</a> in class <a href="ec.e.openers.Opener.html#_top_">Opener</a>
  </dl>
</dl>
<a name="signature()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="signature"><b>signature</b></a>
<pre>
  public <a href="java.lang.String.html#_top_">String</a> signature()
</pre>
<dl>
  <dd> Signatures are according to the Java Virtual Machine Specification.
  <dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.e.openers.Opener.html#signature()">signature</a> in class <a href="ec.e.openers.Opener.html#_top_">Opener</a>
  </dl>
</dl>
<a name="openerID()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="openerID"><b>openerID</b></a>
<pre>
  public <a href="java.lang.String.html#_top_">String</a> openerID()
</pre>
<dl>
  <dd> An openerID identifies both the type encoded/decoded by
the opener, as well as the types of the arguments to this
encoding/decoding.  An opener is encoded by using its
openerID so an object can be encoded in a self describing
format. <p> 
The format of an openerID is:
<pre>
    openerID  ::= '(' '(' sig* ')' sig* ')' refSig
                | arraySig
                | 'Ljava/lang/String;'
    sig       ::= oneof("ZBCSIJFD") 
                | refSig
    refSig    ::= arraySig 
                | 'L' [a-zA-Z0-9/]* ';'
    arraySig  ::= '[' sig
</pre>
For an opener of the first kind, the sequence of signatures
within the inner parens describes the preface argument types,
the sequence of signatures following this within the outer
parens describes the body argument types, and the final refSig
describes the resulting type.  <p>
When the openerID is an array signature, the implicit
preface is the length of the array, and the body is that
number of repetitions of the array's element type. <p>
StringOpeners just use their signature as their
openerID.  They are a special case because they encode
their preface in UTF.  They have no body. <p>
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="ec.e.openers.OpenerRecipe.html#forOpenerDesc">forOpenerDesc</a>
  </dl>
</dl>
<a name="commentary()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="commentary"><b>commentary</b></a>
<pre>
  public abstract <a href="java.lang.Object.html#_top_">Object</a> commentary()
</pre>
<dl>
  <dd> Returns an Object to be taken as a semantics-free commentary on
the kind of information revealed by this Opener.
In the current system this happens to be a String[] of virtual
field names--one for each preface and body arg--to be used in
debugging tools such as inspectors.  <p>
Such tools should cope with finding nulls, objects they
do not know how to interpret as commentary, or a String[] of
the wrong length.  An String[] of the wrong length should be
matched against the args in order, and the tool should cope
with the rest. <p>
  <dl>
    <dt> <b>Returns:</b>
    <dd> nullOk, suspect;
  </dl>
</dl>
<a name="signatureOf(java.lang.Class)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="signatureOf"><b>signatureOf</b></a>
<pre>
  public static <a href="java.lang.String.html#_top_">String</a> signatureOf(<a href="java.lang.Class.html#_top_">Class</a> clazz)
</pre>
<dl>
  <dd> Returns the signature of a class according to the Java Virtual
Machine Specification.
</dl>
<a name="encodeItTo(java.lang.Object, ec.e.openers.RtEncoder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="encodeItTo"><b>encodeItTo</b></a>
<pre>
  public void encodeItTo(<a href="java.lang.Object.html#_top_">Object</a> ref,
                         <a href="ec.e.openers.RtEncoder.html#_top_">RtEncoder</a> encoder)
</pre>
<dl>
  <dd> Delegates to the encoder
  <dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.e.openers.Opener.html#encodeItTo(java.lang.Object, ec.e.openers.RtEncoder)">encodeItTo</a> in class <a href="ec.e.openers.Opener.html#_top_">Opener</a>
  </dl>
</dl>
<a name="decodeFrom(ec.e.openers.RtDecoder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="decodeFrom"><b>decodeFrom</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a> decodeFrom(<a href="ec.e.openers.RtDecoder.html#_top_">RtDecoder</a> decoder)
</pre>
<dl>
  <dd> Delegates to the decoder
  <dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.e.openers.Opener.html#decodeFrom(ec.e.openers.RtDecoder)">decodeFrom</a> in class <a href="ec.e.openers.Opener.html#_top_">Opener</a>
  </dl>
</dl>
<a name="encodePreface(java.lang.Object, ec.e.openers.RtEncoder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="encodePreface"><b>encodePreface</b></a>
<pre>
  public abstract void encodePreface(<a href="java.lang.Object.html#_top_">Object</a> ref,
                                     <a href="ec.e.openers.RtEncoder.html#_top_">RtEncoder</a> encoder) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Encode preface information for 'ref' onto 'encoder'.  The
preface of an object's encoding is that information which must
be decoded in order to make the object at all, and thereby to
be able to decode pointers to it.  For example, arrays encode
their length as part of their preface, since this info must be
known before the array can be created and registered.  The
preface must not contain any pointers to this very object,
since the object isn't yet registered to resolve these
pointers. <p> 
Most objects have no preface, hence the default implementation
does nothing.
  <dl>
    <dt> <b>Parameters:</b>
    <dd> ref - nullOk, suspect;
    <dd> encoder - suspect;
  </dl>
</dl>
<a name="encodeBody(java.lang.Object, ec.e.openers.RtEncoder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="encodeBody"><b>encodeBody</b></a>
<pre>
  public abstract void encodeBody(<a href="java.lang.Object.html#_top_">Object</a> ref,
                                  <a href="ec.e.openers.RtEncoder.html#_top_">RtEncoder</a> encoder) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Assuming the preface has already been encoded, encode the
body of 'ref' onto encoder.
  <dl>
    <dt> <b>Parameters:</b>
    <dd> ref - nullOk, suspect;
    <dd> encoder - suspect;
  </dl>
</dl>
<a name="decodePreface(ec.e.openers.RtDecoder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="decodePreface"><b>decodePreface</b></a>
<pre>
  public abstract <a href="java.lang.Object.html#_top_">Object</a> decodePreface(<a href="ec.e.openers.RtDecoder.html#_top_">RtDecoder</a> decoder) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Decodes the object's preface from 'decoder', then makes and
returns the object to be registered for decoded pointers to
point to.  This object will later be handed to decodeBody to be
filled in.
  <dl>
    <dt> <b>Parameters:</b>
    <dd> decoder - suspect;
    <dt> <b>Returns:</b>
    <dd> nullOk, suspect;
  </dl>
</dl>
<a name="decodeBody(java.lang.Object, ec.e.openers.RtDecoder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="decodeBody"><b>decodeBody</b></a>
<pre>
  public abstract void decodeBody(<a href="java.lang.Object.html#_top_">Object</a> ref,
                                  <a href="ec.e.openers.RtDecoder.html#_top_">RtDecoder</a> decoder) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Assuming the preface has already been decoded, decode into the
body of 'ref' from the decoder, and initialize 'ref' accordingly.
  <dl>
    <dt> <b>Parameters:</b>
    <dd> ref - nullOk, suspect;
    <dd> decoder - suspect;
  </dl>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.openers.html">This Package</a>  <a href="ec.e.openers.PEHashtableRecipe.html#_top_">Previous</a>  <a href="ec.e.openers.RootClassRecipe.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
