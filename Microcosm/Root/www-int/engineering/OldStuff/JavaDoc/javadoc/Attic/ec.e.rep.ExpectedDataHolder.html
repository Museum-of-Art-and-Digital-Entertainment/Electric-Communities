<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Thu Jun 12 15:26:45 PDT 1997 -->
<a name="_top_"></a>
<title>
  Class ec.e.rep.ExpectedDataHolder
</title>
</head>
<body>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.rep.html">This Package</a>  <a href="Package-ec.e.rep.html">Previous</a>  <a href="Package-ec.e.rep.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.e.rep.ExpectedDataHolder
</h1>
<pre>
<a href="java.lang.Object.html#_top_">java.lang.Object</a>
   |
   +----ec.e.rep.ExpectedDataHolder
</pre>
<hr>
<dl>
  <dt> public class <b>ExpectedDataHolder</b>
  <dt> extends <a href="java.lang.Object.html#_top_">Object</a>
  <dt> implements <a href="ec.e.rep.DataHolder.html#_top_">DataHolder</a>, <a href="ec.e.rep.DataRequestor.html#_top_">DataRequestor</a>
</dl>
ExpectedDataHolder - An object that knows how to attempt to
retrieve some data that it is a placeholder for.
myFulfiller is the capability needed to resolve to an actual
reference. <p>
myDataLeaf is a tether to the perishable data itself and may be
null or smashed. <p>
cryptoHash is the cryptographic hash of the data. <p>
myDataRequestor is either an object that implements the Requestor
interface or a Vector of objects that do. We check which one it is
before calling any methods on it. We make sure the myDataLeaf holds
valid data (fetching it as appropriate) and then call held() on the
tether and hand the result to the DataRequestor object (or objects)
These objects are intermediates (or rather, switchboards or
redirectors, given multiple repositories, network sites to retrieve
data from, and multiple vats) between the Repository and WWWeb on
one side and the users of data on the other. As such intermediaries
they implement both the DataHolder and DataRequestor interfaces.
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ExpectedDataHolder(ec.e.start.Vat, ec.e.rep.steward.CryptoHash, ec.e.rep.Fulfiller, ec.e.rep.DataRequestor)"><b>ExpectedDataHolder</b></a>(Vat, CryptoHash, Fulfiller, DataRequestor)
  <dd> 
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ExpectedDataHolder(ec.e.start.Vat, java.lang.Object, ec.e.rep.steward.CryptoHash, ec.e.rep.Fulfiller)"><b>ExpectedDataHolder</b></a>(Vat, Object, CryptoHash, Fulfiller)
  <dd> 
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ExpectedDataHolder(ec.e.start.Vat, java.lang.Object, ec.e.rep.Fulfiller)"><b>ExpectedDataHolder</b></a>(Vat, Object, Fulfiller)
  <dd> 
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#acceptData(java.lang.Object, ec.e.rep.DataHolder)"><b>acceptData</b></a>(Object, DataHolder)
  <dd> 
Called back by the URL retrieval code<p>

XXX If the URL code calls back from another thread, then either
it or this method must synchronize on the VatLock.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#giveDataTo(ec.e.rep.DataRequestor)"><b>giveDataTo</b></a>(DataRequestor)
  <dd>       
Add a DataRequestor object to this ExpectedDataHolder.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#handleFailure(java.lang.Exception, ec.e.rep.DataHolder)"><b>handleFailure</b></a>(Exception, DataHolder)
  <dd> 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#held()"><b>held</b></a>()
  <dd> 
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="ExpectedDataHolder"></a>
<a name="ExpectedDataHolder(ec.e.start.Vat, java.lang.Object, ec.e.rep.steward.CryptoHash, ec.e.rep.Fulfiller)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>ExpectedDataHolder</b>
<pre>
  public ExpectedDataHolder(<a href="ec.e.start.Vat.html#_top_">Vat</a> vat,
                            <a href="java.lang.Object.html#_top_">Object</a> data,
                            <a href="ec.e.rep.steward.CryptoHash.html#_top_">CryptoHash</a> cryptoHash,
                            <a href="ec.e.rep.Fulfiller.html#_top_">Fulfiller</a> fulfiller)
</pre>
<a name="ExpectedDataHolder(ec.e.start.Vat, java.lang.Object, ec.e.rep.Fulfiller)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>ExpectedDataHolder</b>
<pre>
  public ExpectedDataHolder(<a href="ec.e.start.Vat.html#_top_">Vat</a> vat,
                            <a href="java.lang.Object.html#_top_">Object</a> data,
                            <a href="ec.e.rep.Fulfiller.html#_top_">Fulfiller</a> fulfiller)
</pre>
<a name="ExpectedDataHolder(ec.e.start.Vat, ec.e.rep.steward.CryptoHash, ec.e.rep.Fulfiller, ec.e.rep.DataRequestor)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>ExpectedDataHolder</b>
<pre>
  public ExpectedDataHolder(<a href="ec.e.start.Vat.html#_top_">Vat</a> vat,
                            <a href="ec.e.rep.steward.CryptoHash.html#_top_">CryptoHash</a> cryptoHash,
                            <a href="ec.e.rep.Fulfiller.html#_top_">Fulfiller</a> fulfiller,
                            <a href="ec.e.rep.DataRequestor.html#_top_">DataRequestor</a> requestor)
</pre>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="held()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="held"><b>held</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a> held() throws <a href="ec.e.rep.RepositoryKeyNotFoundException.html#_top_">RepositoryKeyNotFoundException</a>, <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<a name="giveDataTo(ec.e.rep.DataRequestor)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="giveDataTo"><b>giveDataTo</b></a>
<pre>
  public void giveDataTo(<a href="ec.e.rep.DataRequestor.html#_top_">DataRequestor</a> requestor)
</pre>
<dl>
  <dd> Add a DataRequestor object to this ExpectedDataHolder.  Whenever the
data arrives (or fails), it will call the appropriate method in
the DataRequestor object. This could happen synchronously if we are
lucky, otherwise it will happen when data arrives.
</dl>
<a name="acceptData(java.lang.Object, ec.e.rep.DataHolder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="acceptData"><b>acceptData</b></a>
<pre>
  public void acceptData(<a href="java.lang.Object.html#_top_">Object</a> data,
                         <a href="ec.e.rep.DataHolder.html#_top_">DataHolder</a> dataHolder)
</pre>
<dl>
  <dd> Called back by the URL retrieval code<p>
XXX If the URL code calls back from another thread, then either
it or this method must synchronize on the VatLock.
</dl>
<a name="handleFailure(java.lang.Exception, ec.e.rep.DataHolder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="handleFailure"><b>handleFailure</b></a>
<pre>
  public void handleFailure(<a href="java.lang.Exception.html#_top_">Exception</a> exception,
                            <a href="ec.e.rep.DataHolder.html#_top_">DataHolder</a> dataHolder)
</pre>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.rep.html">This Package</a>  <a href="Package-ec.e.rep.html">Previous</a>  <a href="Package-ec.e.rep.html">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
