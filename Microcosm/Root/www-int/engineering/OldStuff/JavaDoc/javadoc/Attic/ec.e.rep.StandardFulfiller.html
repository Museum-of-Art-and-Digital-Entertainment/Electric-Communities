<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Thu Jun 12 15:26:45 PDT 1997 -->
<a name="_top_"></a>
<title>
  Class ec.e.rep.StandardFulfiller
</title>
</head>
<body>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.rep.html">This Package</a>  <a href="Package-ec.e.rep.html">Previous</a>  <a href="Package-ec.e.rep.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.e.rep.StandardFulfiller
</h1>
<pre>
<a href="java.lang.Object.html#_top_">java.lang.Object</a>
   |
   +----ec.e.rep.StandardFulfiller
</pre>
<hr>
<dl>
  <dt> public class <b>StandardFulfiller</b>
  <dt> extends <a href="java.lang.Object.html#_top_">Object</a>
  <dt> implements <a href="ec.e.rep.Fulfiller.html#_top_">Fulfiller</a>
</dl>
A Fulfiller is a Guest object that knows how to resolve DataHolders
to their specified objects. Fulfillers are created for you at
startup and when you connect to a new host and the appropriate
Fulfiller field is added to every ExpectedData holder you get from
local repositories or from the remote host by your own Comm system,
upon decode of the object. The Fulfiller for KnownData DataHolder
objects is a distinguished Fulfiller sometimes referred to as the
Master Fulfiller.<p>
The URL to use to lookup or search for the data is constructed of
pieces that get appended together: The hints (several may be
available), and The cryptohash key (as a hex integer), and possibly
other stuff. The design of this is open-ended - Hints are specified
to be an array of strings but we don't specify (yet) a format for
them or how we will interpret them. <p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#StandardFulfiller(ec.e.start.EEnvironment, ec.e.file.EDirectoryRootMaker)"><b>StandardFulfiller</b></a>(EEnvironment, EDirectoryRootMaker)
  <dd> 
Constructor - Only called once per vat.
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getFromRepository(java.lang.Object)"><b>getFromRepository</b></a>(Object)
  <dd> 
Retrieve an object from our Repositories.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#reOpenRepositories()"><b>reOpenRepositories</b></a>()
  <dd> 
Reopen our repositories after revival from a checkpoint.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#requestURLRetrieval(java.lang.Object, ec.e.rep.DataHolder)"><b>requestURLRetrieval</b></a>(Object, DataHolder)
  <dd> 
We need to retrieve the data over the network.
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="StandardFulfiller"></a>
<a name="StandardFulfiller(ec.e.start.EEnvironment, ec.e.file.EDirectoryRootMaker)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>StandardFulfiller</b>
<pre>
  public StandardFulfiller(<a href="ec.e.start.EEnvironment.html#_top_">EEnvironment</a> env,
                           <a href="ec.e.file.EDirectoryRootMaker.html#_top_">EDirectoryRootMaker</a> rootMaker) throws <a href="ec.e.rep.RepositoryAccessException.html#_top_">RepositoryAccessException</a>, <a href="ec.e.run.OnceOnlyException.html#_top_">OnceOnlyException</a>, <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Constructor - Only called once per vat. Not called after a
checkpoint - then we only need to call reOpenRepositories().
The Environment is given to the RepositoryMaker which saves it
away and uses it in getRepository(). This works even after a
restart since the environment object gets updated (invisibly to
us) to reflect the new command line arguments. In other words,
if you are given an environment once you can save it away and
it will always be current.
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="reOpenRepositories()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="reOpenRepositories"><b>reOpenRepositories</b></a>
<pre>
  public void reOpenRepositories() throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Reopen our repositories after revival from a checkpoint.
</dl>
<a name="requestURLRetrieval(java.lang.Object, ec.e.rep.DataHolder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="requestURLRetrieval"><b>requestURLRetrieval</b></a>
<pre>
  public void requestURLRetrieval(<a href="java.lang.Object.html#_top_">Object</a> key,
                                  <a href="ec.e.rep.DataHolder.html#_top_">DataHolder</a> yourHolder)
</pre>
<dl>
  <dd> We need to retrieve the data over the network.  Construct the
URL and invoke the URL getter capability. When the URL getter
has retrieved the data it calls
DataHolder.dataArrived(data)
</dl>
<a name="getFromRepository(java.lang.Object)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getFromRepository"><b>getFromRepository</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a> getFromRepository(<a href="java.lang.Object.html#_top_">Object</a> key) throws <a href="ec.e.rep.RepositoryKeyNotFoundException.html#_top_">RepositoryKeyNotFoundException</a>, <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Retrieve an object from our Repositories.
  <dl>
    <dt> <b>Parameters:</b>
    <dd> key - untrusted notNull - A object key to use to retrieve
data from our Repositories.
  </dl>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.rep.html">This Package</a>  <a href="Package-ec.e.rep.html">Previous</a>  <a href="Package-ec.e.rep.html">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
