<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Mon Apr 14 11:36:09 PDT 1997 -->
<title>
  Class ec.evm$.Leaf
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.evm$.html">This Package</a>  <a href="ec.evm$.Inhabitant.html#_top_">Previous</a>  <a href="ec.evm$.ObjectSubstitute.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.evm$.Leaf
</h1>
<pre>
java.lang.Object
   |
   +----<a href="ec.meta.StdObj.html#_top_">ec.meta.StdObj</a>
           |
           +----<a href="ec.evm$.Inhabitant.html#_top_">ec.evm$.Inhabitant</a>
                   |
                   +----ec.evm$.Leaf
</pre>
<hr>
<dl>
  <dt> public abstract class <b>Leaf</b>
  <dt> extends <a href="ec.evm$.Inhabitant.html#_top_">Inhabitant</a>
  <dt> implements <a href="ec.meta.Tether.html#_top_">Tether</a>
</dl>
A Leaf is an object which is pointed at by inhabitants (guests and stewards)
 which is allowed to point to the outside world, but which is not allowed
 to point back at inhabitants. That last restriction is extremely important
 since there are cases where a Leaf may be pointed at by multiple vats
 (for example, in the case where a number of vats are sharing a comm system).
 With respect to a vat and its contents, the only things a Leaf may do are
 call evm$prepare (or one of the variants) to make Roots to pass to the
 outside, or to call StandardVat.evm$queueLeafResponse() to respond
 "directly" to a call. (The reason for the special leaf response call
 is for purposes of logging for checkpoints.)
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Leaf()"><b>Leaf</b></a>()
  <dd> 
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#evm$leafCall(ec.evm$.StandardVat)"><b>evm$leafCall</b></a>(StandardVat)
  <dd>  Let the vat know that a leaf call is in progress.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#evm$prepare(ec.evm$.StandardVat, java.lang.Object)"><b>evm$prepare</b></a>(StandardVat, Object)
  <dd>  Prepare an arbitrary object for export.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#evm$prepareArgs(ec.evm$.StandardVat, java.lang.Object[])"><b>evm$prepareArgs</b></a>(StandardVat, Object[])
  <dd>  Prepare arguments for export.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#evm$prepareResult(ec.evm$.StandardVat, ec.meta.Result)"><b>evm$prepareResult</b></a>(StandardVat, Result)
  <dd>  Prepare a Result argument for export.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#invoke(ec.meta.Method, java.lang.Object[])"><b>invoke</b></a>(Method, Object[])
  <dd>  Method from ec.meta.Tether.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#invoke(ec.meta.Method, java.lang.Object[], ec.meta.Result)"><b>invoke</b></a>(Method, Object[], Result)
  <dd>  Method from ec.meta.Tether.
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="Leaf"></a>
<a name="Leaf()"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>Leaf</b>
<pre>
 public Leaf()
</pre>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="evm$leafCall(ec.evm$.StandardVat)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="evm$leafCall"><b>evm$leafCall</b></a>
<pre>
 protected void evm$leafCall(<a href="ec.evm$.StandardVat.html#_top_">StandardVat</a> vat)
</pre>
<dl>
  <dd> Let the vat know that a leaf call is in progress.
 All leaves must call this method to let such vat facilities as
 logging and checkpointing work.
 If the method returns normally, then the leaf should
 go about its business. If it instead throws a DeadTetherException,
 then it should let the exception pass through.
 The vat may be passed in as null if
 the Leaf cannot easily figure out what vat is currently
 running; in that case, the system will figure it out
 via StandardVat.evm$getCurrentVat ().
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> vat - the current vat, or null if the system should determine it
  </dl></dd>
</dl>
<a name="evm$prepare(ec.evm$.StandardVat, java.lang.Object)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="evm$prepare"><b>evm$prepare</b></a>
<pre>
 protected Object evm$prepare(<a href="ec.evm$.StandardVat.html#_top_">StandardVat</a> vat,
                              Object target)
</pre>
<dl>
  <dd> Prepare an arbitrary object for export. All leaves must
 call this or one of the other prep methods if they intend
 to pass objects to the outside world. The vat may be
 passed as null if the caller has no easy way to get at
 the current vat; in that case, the system figures out the
 vat through StandardVat.evm$getCurrentVat ().
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> vat - the current vat, or null if the system should determine it
    <dd> target - the object to prepare
    <dt> <b>Returns:</b>
    <dd> the prepared object
  </dl></dd>
</dl>
<a name="evm$prepareArgs(ec.evm$.StandardVat, java.lang.Object[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="evm$prepareArgs"><b>evm$prepareArgs</b></a>
<pre>
 protected Object[] evm$prepareArgs(<a href="ec.evm$.StandardVat.html#_top_">StandardVat</a> vat,
                                    Object args[])
</pre>
<dl>
  <dd> Prepare arguments for export. All leaves must call this
 if they intend to pass their arguments to the outside
 world.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> vat - the current vat, or null if the system should determine it
    <dd> args - the args to prepare
    <dt> <b>Returns:</b>
    <dd> the prepared args
  </dl></dd>
</dl>
<a name="evm$prepareResult(ec.evm$.StandardVat, ec.meta.Result)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="evm$prepareResult"><b>evm$prepareResult</b></a>
<pre>
 protected <a href="ec.meta.Result.html#_top_">Result</a> evm$prepareResult(<a href="ec.evm$.StandardVat.html#_top_">StandardVat</a> vat,
                                    <a href="ec.meta.Result.html#_top_">Result</a> result)
</pre>
<dl>
  <dd> Prepare a Result argument for export. All leaves must call
 this if they intend to pass a Result to the outside world.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> vat - the current vat, or null if the system should determine it
    <dd> result - the result to prepare
    <dt> <b>Returns:</b>
    <dd> the prepared result
  </dl></dd>
</dl>
<a name="invoke(ec.meta.Method, java.lang.Object[], ec.meta.Result)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="invoke"><b>invoke</b></a>
<pre>
 public abstract void invoke(<a href="ec.meta.Method.html#_top_">Method</a> method,
                             Object args[],
                             <a href="ec.meta.Result.html#_top_">Result</a> result)
</pre>
<dl>
  <dd> Method from ec.meta.Tether. Must be written by subclass.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.evm$.Inhabitant.html#invoke(ec.meta.Method, java.lang.Object[], ec.meta.Result)">invoke</a> in class <a href="ec.evm$.Inhabitant.html#_top_">Inhabitant</a>
  </dl></dd>
</dl>
<a name="invoke(ec.meta.Method, java.lang.Object[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="invoke"><b>invoke</b></a>
<pre>
 public abstract Object invoke(<a href="ec.meta.Method.html#_top_">Method</a> method,
                               Object args[]) throws <a href="ec.meta.BadInvokeException.html#_top_">BadInvokeException</a>, <a href="ec.meta.InvocationTargetException.html#_top_">InvocationTargetException</a>
</pre>
<dl>
  <dd> Method from ec.meta.Tether. Must be written by subclass.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.meta.StdObj.html#invoke(ec.meta.Method, java.lang.Object[])">invoke</a> in class <a href="ec.meta.StdObj.html#_top_">StdObj</a>
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.evm$.html">This Package</a>  <a href="ec.evm$.Inhabitant.html#_top_">Previous</a>  <a href="ec.evm$.ObjectSubstitute.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
