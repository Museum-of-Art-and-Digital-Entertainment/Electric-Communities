<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Mon Apr 27 11:17:03 PDT 1998 -->
<title>
  Class ec.identity.SturdyIdentity
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.identity.html">This Package</a>  <a href="ec.identity.IdentityOwner.html#_top_">Previous</a>  <a href="Package-ec.identity.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.identity.SturdyIdentity
</h1>
<pre>
java.lang.Object
   |
   +----ec.identity.SturdyIdentity
</pre>
<hr>
<dl>
  <dt> public class <b>SturdyIdentity</b>
  <dt> extends Object
  <dt> implements Serializable
</dl>
The SturdyIdentity class is just a convenient way of handing around a
 SturdyRef (persistent reference) to an identity. It has a
 convenience method to resolve the sturdy ref, and it can also be
 compared for equality or put into tables with other SturdyIdentity
 objects - only two SturdyIdentity objects which contain the same
 identity sturdy ref will compare equal.
 <p>
 A SturdyIdentity also contains a name. This name is not secure but it
 can be used when an identity is presented to the user. Another
 layer of software is needed to ensure that if the same identity
 is encountered with a different name the user is informed
 appropriately (e.g. the identity name package takes care of this
 via the nickname mechanism). But you should always remember the
 name is only as trustworthy as the source of the SturdyIdentity
 object; if you want to be certain of the identity's current
 name you should query the identity directly.
 <p>
 XXX The name should be left out of the SturdyIdentity object
 and just passed around as a separate String when needed.
<p>
<dl>
    <dt> <b>See Also:</b>
    <dd> <a href="ec.identity.Identity.html#_top_">Identity</a>
</dl>
<hr>
<a name="index"></a>
<h2>
  <img src="images/variable-index.gif" width=207 height=38 alt="Variable Index">
</h2>
<dl>
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#myIdentitySturdyRef"><b>myIdentitySturdyRef</b></a>
  <dd> Identity, stored as sturdy ref
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#myName"><b>myName</b></a>
  <dd> Name
</dl>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#SturdyIdentity(java.lang.String, ec.e.net.SturdyRef)"><b>SturdyIdentity</b></a>(String, SturdyRef)
  <dd>  Constructor; construct a new SturdyIdentity from given name and
 sturdy ref
 
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#SturdyIdentity(ec.identity.SturdyIdentity)"><b>SturdyIdentity</b></a>(SturdyIdentity)
  <dd>  Copy constructor

  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#SturdyIdentity(ec.e.net.SturdyRef)"><b>SturdyIdentity</b></a>(SturdyRef)
  <dd>  Constructor; constructs a new SturdyIdentity from given sturdy ref,
 leaving name null

</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#createChannelToIdentity()"><b>createChannelToIdentity</b></a>()
  <dd>  Create channel to the underlying Identity object.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#equals(java.lang.Object)"><b>equals</b></a>(Object)
  <dd> Equality testing; uses the identity SturdyRef to make comparison
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getIdentitySturdyRef()"><b>getIdentitySturdyRef</b></a>()
  <dd>  Accessor for identity, as sturdy ref

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getName()"><b>getName</b></a>()
  <dd>  Accessor for name.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#hashCode()"><b>hashCode</b></a>()
  <dd>  Hash code; uses underlying sturdy ref hash code, XOR'ed with arbitrary
 number

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#sendToIdentity(ec.identity.RtEnvelope)"><b>sendToIdentity</b></a>(RtEnvelope)
  <dd>  Send an envelope to the underlying Identity object.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setName(java.lang.String)"><b>setName</b></a>(String)
  <dd>  Setter for name.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#toString()"><b>toString</b></a>()
  <dd> To string method, so you can print SturdyIdentity objects
</dl>
<a name="variables"></a>
<h2>
  <img src="images/variables.gif" width=153 height=38 alt="Variables">
</h2>
<a name="myName"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>myName</b>
<pre>
 protected String myName
</pre>
<dl>
  <dd> Name<p>
</dl>
<a name="myIdentitySturdyRef"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>myIdentitySturdyRef</b>
<pre>
 protected SturdyRef myIdentitySturdyRef
</pre>
<dl>
  <dd> Identity, stored as sturdy ref<p>
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="SturdyIdentity"></a>
<a name="SturdyIdentity(java.lang.String, ec.e.net.SturdyRef)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>SturdyIdentity</b>
<pre>
 public SturdyIdentity(String name,
                       SturdyRef identity)
</pre>
<dl>
  <dd> Constructor; construct a new SturdyIdentity from given name and
 sturdy ref
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> name - string name associated with identity
    <dd> identity - sturdy ref of identity object. Must not be null.
  </dl></dd>
</dl>
<a name="SturdyIdentity(ec.e.net.SturdyRef)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>SturdyIdentity</b>
<pre>
 public SturdyIdentity(SturdyRef identity)
</pre>
<dl>
  <dd> Constructor; constructs a new SturdyIdentity from given sturdy ref,
 leaving name null
<p>
</dl>
<a name="SturdyIdentity(ec.identity.SturdyIdentity)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>SturdyIdentity</b>
<pre>
 public SturdyIdentity(<a href="#_top_">SturdyIdentity</a> other)
</pre>
<dl>
  <dd> Copy constructor
<p>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="getName()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getName"><b>getName</b></a>
<pre>
 public final String getName()
</pre>
<dl>
  <dd> Accessor for name. Remember the name is just a hint, useful for
 presenting to the user but it does not have any security properties.
 This is not as bad as it sounds because the user interface code
 can keep track of identity to name mappings; if it comes a single
 identity using different names it can make sure the user only sees
 one name (or at least is notified when a name changes)
 XXX Should just get rid of name field and pass it around explicitly
<p>
</dl>
<a name="setName(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setName"><b>setName</b></a>
<pre>
 public final void setName(String name)
</pre>
<dl>
  <dd> Setter for name. The fact that the name is settable emphasises that
 the name is just a hint. 
 XXX Should just get rid of name field and pass it around explicitly
<p>
</dl>
<a name="getIdentitySturdyRef()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getIdentitySturdyRef"><b>getIdentitySturdyRef</b></a>
<pre>
 public final SturdyRef getIdentitySturdyRef()
</pre>
<dl>
  <dd> Accessor for identity, as sturdy ref
<p>
</dl>
<a name="createChannelToIdentity()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="createChannelToIdentity"><b>createChannelToIdentity</b></a>
<pre>
 public final <a href="ec.identity.Identity.html#_top_">Identity</a> createChannelToIdentity()
</pre>
<dl>
  <dd> Create channel to the underlying Identity object. Note that when
 you use this channel you may get RegistrarLookupEException,
 ConnectionDeadEException errors from the comm system. And
 if the identity sturdy ref turns out not to point to an identity
 at all then message sends to the channel returned by this method
 will throw RtInvocationException
<p>
</dl>
<a name="sendToIdentity(ec.identity.RtEnvelope)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="sendToIdentity"><b>sendToIdentity</b></a>
<pre>
 public final void sendToIdentity(RtEnvelope env)
</pre>
<dl>
  <dd> Send an envelope to the underlying Identity object. This is a
 utility which avoids the hidden round trip that you'll get if you
 create a channel to the sturdy ref target and then send a message
 to that.
 XXX PESSIMISM This shouldn't be necessary if channels are fully fully
 optimistic.
<p>
</dl>
<a name="equals(java.lang.Object)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="equals"><b>equals</b></a>
<pre>
 public final boolean equals(Object obj)
</pre>
<dl>
  <dd> Equality testing; uses the identity SturdyRef to make comparison
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="java.lang.Object.html#equals(java.lang.Object)">equals</a> in class Object
  </dl></dd>
</dl>
<a name="hashCode()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="hashCode"><b>hashCode</b></a>
<pre>
 public final int hashCode()
</pre>
<dl>
  <dd> Hash code; uses underlying sturdy ref hash code, XOR'ed with arbitrary
 number
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="java.lang.Object.html#hashCode()">hashCode</a> in class Object
  </dl></dd>
</dl>
<a name="toString()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="toString"><b>toString</b></a>
<pre>
 public String toString()
</pre>
<dl>
  <dd> To string method, so you can print SturdyIdentity objects
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="java.lang.Object.html#toString()">toString</a> in class Object
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.identity.html">This Package</a>  <a href="ec.identity.IdentityOwner.html#_top_">Previous</a>  <a href="Package-ec.identity.html">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
