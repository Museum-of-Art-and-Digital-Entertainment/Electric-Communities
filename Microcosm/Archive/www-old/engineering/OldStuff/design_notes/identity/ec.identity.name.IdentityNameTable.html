<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Mon Apr 27 11:17:03 PDT 1998 -->
<title>
  Class ec.identity.name.IdentityNameTable
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.identity.name.html">This Package</a>  <a href="ec.identity.name.IdentityNameRef.html#_top_">Previous</a>  <a href="Package-ec.identity.name.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.identity.name.IdentityNameTable
</h1>
<pre>
java.lang.Object
   |
   +----ec.identity.name.IdentityNameTable
</pre>
<hr>
<dl>
  <dt> public class <b>IdentityNameTable</b>
  <dt> extends Object
  <dt> implements Serializable
</dl>
A table of identity names and identities that keeps track of which
 identities are currently in use. For these identities it provides a
 way to map nick names to identities, and vice versa.
 <p>
 Entries are maintained in the table by a hidden reference counting
 scheme. Callers are given "IdentityNameRefs". As long as they keep
 hold of such a ref, the table will maintain an entry for the
 corresponding identity and its name. When all the refs for a given
 identity and name are dropped, the identity and name are removed
 from the table and put on the RecentList. They stay on the recent
 list until they are pushed out by other entries.
<p>
<dl>
    <dt> <b>See Also:</b>
    <dd> <a href="ec.identity.name.IdentityName.html#_top_">IdentityName</a>, <a href="ec.identity.name.IdentityNameRef.html#_top_">IdentityNameRef</a>, <a href="ec.identity.Identity.html#_top_">Identity</a>
</dl>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#IdentityNameTable(int)"><b>IdentityNameTable</b></a>(int)
  <dd>  Constructor

</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#add(ec.identity.SturdyIdentity)"><b>add</b></a>(SturdyIdentity)
  <dd>  Add an identity to the table; return an IdentityNameRef which
 gives a nick name for that identity and keeps the nick name to
 identity mapping around as long as someone is referencing it.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#addIdentitiesToList(ec.identity.name.IdentityNameList)"><b>addIdentitiesToList</b></a>(IdentityNameList)
  <dd>  Called to complete a partially constructed list of identity names;
 adds in all the "in use" and recently used names.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getIdentityForName(java.lang.String)"><b>getIdentityForName</b></a>(String)
  <dd>  Look up a given name and return the identity.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getNameForIdentity(ec.identity.SturdyIdentity)"><b>getNameForIdentity</b></a>(SturdyIdentity)
  <dd>  Look up a given identity and return the name

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#identityHandleChanged(ec.identity.SturdyIdentity, java.lang.String)"><b>identityHandleChanged</b></a>(SturdyIdentity, String)
  <dd>  Notify the table that an identity's handle has changed.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setNickName(ec.identity.name.IdentityNameRef, java.lang.String)"><b>setNickName</b></a>(IdentityNameRef, String)
  <dd>  Change the nick name of an identity
 
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="IdentityNameTable"></a>
<a name="IdentityNameTable(int)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>IdentityNameTable</b>
<pre>
 public IdentityNameTable(int recentListSize)
</pre>
<dl>
  <dd> Constructor
<p>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="add(ec.identity.SturdyIdentity)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="add"><b>add</b></a>
<pre>
 public <a href="ec.identity.name.IdentityNameRef.html#_top_">IdentityNameRef</a> add(<a href="ec.identity.SturdyIdentity.html#_top_">SturdyIdentity</a> identity)
</pre>
<dl>
  <dd> Add an identity to the table; return an IdentityNameRef which
 gives a nick name for that identity and keeps the nick name to
 identity mapping around as long as someone is referencing it.
 <p>
 If the identity is already in the table or recent list then the
 IdentityNameRef will use the existing nick name. If it is not
 in the table, the name given in the SturdyIdentity object,
 i.e. the handle, is used as the initial nick name, if possible.
 It may be altered if it is invalid (in which case it will be
 changed into a valid name, using IdentityName.makeValid), or if
 it clashes with an existing nick name.
 <p>
 If the name clashes with an existing name,then a new name will
 be generated by adding a suffix of the form <name>-1,
 e.g. Fred-1. If that doesn't work the uniqueness test will be
 repeated with <name>-2 and so on.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> identity - the identity to be added.
    <dt> <b>Returns:</b>
    <dd> an IdentityNameRef object which keeps the nick name
   to identity mapping around, as long as it is referenced
  </dl></dd>
</dl>
<a name="getIdentityForName(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getIdentityForName"><b>getIdentityForName</b></a>
<pre>
 public <a href="ec.identity.SturdyIdentity.html#_top_">SturdyIdentity</a> getIdentityForName(String name)
</pre>
<dl>
  <dd> Look up a given name and return the identity. The name is converted to
 lower case before being looked up.
<p>
</dl>
<a name="getNameForIdentity(ec.identity.SturdyIdentity)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getNameForIdentity"><b>getNameForIdentity</b></a>
<pre>
 public <a href="ec.identity.name.IdentityName.html#_top_">IdentityName</a> getNameForIdentity(<a href="ec.identity.SturdyIdentity.html#_top_">SturdyIdentity</a> identity)
</pre>
<dl>
  <dd> Look up a given identity and return the name
<p>
</dl>
<a name="setNickName(ec.identity.name.IdentityNameRef, java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setNickName"><b>setNickName</b></a>
<pre>
 public void setNickName(<a href="ec.identity.name.IdentityNameRef.html#_top_">IdentityNameRef</a> nameRef,
                         String newNickName)
</pre>
<dl>
  <dd> Change the nick name of an identity
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> nameRef - name reference for the identity whose nick name
   you want to change. Must be a name reference generated by this
   table or an IllegalArgument exception will be thrown
    <dd> newNickName - the nick
  </dl></dd>
</dl>
<a name="identityHandleChanged(ec.identity.SturdyIdentity, java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="identityHandleChanged"><b>identityHandleChanged</b></a>
<pre>
 public void identityHandleChanged(<a href="ec.identity.SturdyIdentity.html#_top_">SturdyIdentity</a> identity,
                                   String newHandle)
</pre>
<dl>
  <dd> Notify the table that an identity's handle has changed. Updates
 the handle part of the name for that identity. This is
 a no-op if the identity is not in the table or recent list.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> identity - the identity whose handle changed
    <dd> newHandle - the new handle. If it is not a valid handle
   it is forced to be one by using IdentityName.makeValid
  </dl></dd>
</dl>
<a name="addIdentitiesToList(ec.identity.name.IdentityNameList)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="addIdentitiesToList"><b>addIdentitiesToList</b></a>
<pre>
 public <a href="ec.identity.name.IdentityNameList.html#_top_">IdentityNameList</a> addIdentitiesToList(<a href="ec.identity.name.IdentityNameList.html#_top_">IdentityNameList</a> list)
</pre>
<dl>
  <dd> Called to complete a partially constructed list of identity names;
 adds in all the "in use" and recently used names.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> list - list to which names should be added. If null a new
   list is created.
    <dt> <b>Returns:</b>
    <dd> the list given as a parameter, plus the new entries, or
   a newly allocated list if the parameter was null
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.identity.name.html">This Package</a>  <a href="ec.identity.name.IdentityNameRef.html#_top_">Previous</a>  <a href="Package-ec.identity.name.html">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
