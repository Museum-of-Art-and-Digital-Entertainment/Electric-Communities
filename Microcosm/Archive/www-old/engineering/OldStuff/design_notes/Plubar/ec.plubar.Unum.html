<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Tue Mar 10 16:57:26 PST 1998 -->
<title>
  Class ec.plubar.Unum
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.plubar.html">This Package</a>  <a href="ec.plubar.SoulState.html#_top_">Previous</a>  <a href="ec.plubar.UnumDefinition.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.plubar.Unum
</h1>
<pre>
java.lang.Object
   |
   +----ec.plubar.Unum
</pre>
<hr>
<dl>
  <dt> public class <b>Unum</b>
  <dt> extends Object
</dl>
An unum instance
<p>
<dl>
  <dt> <b>Version:</b>
  <dd> 1.0
  <dt> <b>Author:</b>
  <dd> Chip Morningstar, Karl Schumaker
</dl>
<hr>
<a name="index"></a>
<h2>
  <img src="images/variable-index.gif" width=207 height=38 alt="Variable Index">
</h2>
<dl>
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#myCreationMode"><b>myCreationMode</b></a>
  <dd> A flag indicating if Unum is "finished", i.e.
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#myDefinition"><b>myDefinition</b></a>
  <dd> The definition for this Unum.
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#myIngredients"><b>myIngredients</b></a>
  <dd> A table of the actual ingredient Objects for this instance of an
 Unum.
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#myPresenceIssued"><b>myPresenceIssued</b></a>
  <dd> A flag indicating if a (host) Presence of this Unum has been made.
</dl>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Unum(ec.plubar.UnumDefinition)"><b>Unum</b></a>(UnumDefinition)
  <dd>  Constructor callable only from within package.
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#createClientSoulState()"><b>createClientSoulState</b></a>()
  <dd>  Create a SoulState based on encodeable ingredients

 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#createRoleClassList()"><b>createRoleClassList</b></a>()
  <dd>  Creates an array of ingredient role/class name pairs; this is a package
 protected method that is called from encode().
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#decode(ec.e.run.RtDecoder)"><b>decode</b></a>(RtDecoder)
  <dd>  Decode an unum.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#encode(ec.e.run.RtEncoder)"><b>encode</b></a>(RtEncoder)
  <dd>  Encode this unum by encoding its UnumDefinition, a list of its
 Ingredients' role and class names and a SoulState containing the
 state bundles of its Ingredients.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#finishUnum()"><b>finishUnum</b></a>()
  <dd>  Terminate unum creation mode.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getNeighbor(java.lang.String)"><b>getNeighbor</b></a>(String)
  <dd>  Return the object assigned to a particular ingredient role.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#init(ec.plubar.SoulState)"><b>init</b></a>(SoulState)
  <dd>  Initialize this unum.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#killUnum()"><b>killUnum</b></a>()
  <dd>  Kill this unum.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#presenceSend(boolean, java.lang.String, java.lang.Object[])"><b>presenceSend</b></a>(boolean, String, Object[])
  <dd>  Invoke a presence-level method.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#send(java.lang.String, java.lang.Object[])"><b>send</b></a>(String, Object[])
  <dd>  Invoke an unum-level method

 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setIngredient(java.lang.String, ec.plubar.Ingredient)"><b>setIngredient</b></a>(String, Ingredient)
  <dd>  Set one of the ingredients of this unum.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setIngredient(java.lang.String, ec.plubar.Ingredient, boolean)"><b>setIngredient</b></a>(String, Ingredient, boolean)
  <dd>  Set one of the ingredients of this unum.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#takePresence(boolean)"><b>takePresence</b></a>(boolean)
  <dd>  Produce a presence of this unum for the first person to ask for one

 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#toString()"><b>toString</b></a>()
  <dd>  Print out this unum.
</dl>
<a name="variables"></a>
<h2>
  <img src="images/variables.gif" width=153 height=38 alt="Variables">
</h2>
<a name="myDefinition"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>myDefinition</b>
<pre>
 private <a href="ec.plubar.UnumDefinition.html#_top_">UnumDefinition</a> myDefinition
</pre>
<dl>
  <dd> The definition for this Unum.<p>
</dl>
<a name="myIngredients"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>myIngredients</b>
<pre>
 private <a href="ec.plubar.Ingredient.html#_top_">Ingredient</a> myIngredients[]
</pre>
<dl>
  <dd> A table of the actual ingredient Objects for this instance of an
 Unum.<p>
</dl>
<a name="myPresenceIssued"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>myPresenceIssued</b>
<pre>
 private boolean myPresenceIssued
</pre>
<dl>
  <dd> A flag indicating if a (host) Presence of this Unum has been made.<p>
</dl>
<a name="myCreationMode"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>myCreationMode</b>
<pre>
 private boolean myCreationMode
</pre>
<dl>
  <dd> A flag indicating if Unum is "finished", i.e. all Ingredients have been
 given initial values.  See finishUnum().<p>
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="Unum"></a>
<a name="Unum(ec.plubar.UnumDefinition)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>Unum</b>
<pre>
 Unum(<a href="ec.plubar.UnumDefinition.html#_top_">UnumDefinition</a> definition)
</pre>
<dl>
  <dd> Constructor callable only from within package. The only caller should
 be the class UnumDefinition. The result is a new unum in creation mode.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> definition - The definition of this unum
    <dt> <b>See Also:</b>
    <dd> <a href="ec.plubar.UnumDefinition.html#createUnum">createUnum</a>
  </dl></dd>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="finishUnum()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="finishUnum"><b>finishUnum</b></a>
<pre>
 public void finishUnum()
</pre>
<dl>
  <dd> Terminate unum creation mode. Called by the unum creator to indicate
 that it has set all ingredients.
<p>
</dl>
<a name="send(java.lang.String, java.lang.Object[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="send"><b>send</b></a>
<pre>
 public void send(String message,
                  Object args[]) throws <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
</pre>
<dl>
  <dd> Invoke an unum-level method
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> message - Message to deliver
    <dd> args - Message arguments
    <dt> <b>Throws:</b> <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
    <dd> from myDefinition.unumSend()
    <dt> <b>See Also:</b>
    <dd> <a href="ec.plubar.UnumDefinition.html#unumSend">unumSend</a>
  </dl></dd>
</dl>
<a name="setIngredient(java.lang.String, ec.plubar.Ingredient)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setIngredient"><b>setIngredient</b></a>
<pre>
 public void setIngredient(String roleName,
                           <a href="ec.plubar.Ingredient.html#_top_">Ingredient</a> ingredient) throws <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
</pre>
<dl>
  <dd> Set one of the ingredients of this unum. Valid for use only when in
 unum creation mode.  This method is called externally by unum
 programmers, so the internal method is called with isHost=true for
 the Ingredient; the decode() method calls the internal setIngredient()
 directly with isHost=false for creating client presences.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> roleName - The ingredient role name of the ingredient to set
    <dd> ingredient - An object to use as the ingredient
    <dt> <b>Throws:</b> <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
    <dd> thrown from internal setIngredient() method
    <dt> <b>See Also:</b>
    <dd> <a href="#decode()">decode</a>, <a href="#setIngredient()">setIngredient</a>
  </dl></dd>
</dl>
<a name="setIngredient(java.lang.String, ec.plubar.Ingredient, boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setIngredient"><b>setIngredient</b></a>
<pre>
 public void setIngredient(String roleName,
                           <a href="ec.plubar.Ingredient.html#_top_">Ingredient</a> ingredient,
                           boolean isHost) throws <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
</pre>
<dl>
  <dd> Set one of the ingredients of this unum. Valid for use only when in
 unum creation mode.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> roleName - The ingredient role name of the ingredient to set
    <dd> ingredient - An object to use as the ingredient
    <dt> <b>Throws:</b> <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
    <dd> if this unum is not in creation mode, i.e. if
   finishUnum() has been called
    <dt> <b>Throws:</b> <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
    <dd> if this unum has no ingredients, i.e. it was
   initialized with an UnumDefinition without ingredient roles
  </dl></dd>
</dl>
<a name="takePresence(boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="takePresence"><b>takePresence</b></a>
<pre>
 public <a href="ec.plubar.Presence.html#_top_">Presence</a> takePresence(boolean isHost) throws <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
</pre>
<dl>
  <dd> Produce a presence of this unum for the first person to ask for one
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> isHost - true=>create a host presence, false=>create a client
    <dt> <b>Throws:</b> <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
    <dd> if myPresenceIssued is false, i.e. if
 takePresence has already been called and a Presence has been issued
  </dl></dd>
</dl>
<a name="getNeighbor(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getNeighbor"><b>getNeighbor</b></a>
<pre>
 <a href="ec.plubar.Ingredient.html#_top_">Ingredient</a> getNeighbor(String neighbor) throws <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
</pre>
<dl>
  <dd> Return the object assigned to a particular ingredient role. Callable
 only from within package; should only be called by the Ingredient base
 class.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> neighbor - The name of the ingredient role of interest
    <dt> <b>Returns:</b>
    <dd> The object in that role, or null if there is not such object
    <dt> <b>Throws:</b> <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
    <dd> from myDefinition.findIngredient()
    <dt> <b>Throws:</b> <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
    <dd> if there are no ingredients in the unum
    <dt> <b>See Also:</b>
    <dd> <a href="ec.plubar.UnumDefinition.html#findIngredient">findIngredient</a>
  </dl></dd>
</dl>
<a name="presenceSend(boolean, java.lang.String, java.lang.Object[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="presenceSend"><b>presenceSend</b></a>
<pre>
 void presenceSend(boolean isHost,
                   String message,
                   Object args[]) throws <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
</pre>
<dl>
  <dd> Invoke a presence-level method. Calls UnumDefinition.presenceSend().
 Callable only from within the package.  Should only be called by
 the 'send' method of the Presence class.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> isHost - true=>deliver host message, false=>deliver client message
    <dd> message - Message to deliver
    <dd> args - Message arguments
    <dt> <b>Throws:</b> <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
    <dd> from myDefinition.presenceSend()
    <dt> <b>See Also:</b>
    <dd> <a href="ec.plubar.UnumDefinition.html#presenceSend">presenceSend</a>, <a href="ec.plubar.Presence.html#send">send</a>
  </dl></dd>
</dl>
<a name="init(ec.plubar.SoulState)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="init"><b>init</b></a>
<pre>
 public void init(<a href="ec.plubar.SoulState.html#_top_">SoulState</a> soulState)
</pre>
<dl>
  <dd> Initialize this unum.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> soulState - The soulState of the Unum which contians the
 ingredients' states.
  </dl></dd>
</dl>
<a name="createClientSoulState()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="createClientSoulState"><b>createClientSoulState</b></a>
<pre>
 <a href="ec.plubar.SoulState.html#_top_">SoulState</a> createClientSoulState()
</pre>
<dl>
  <dd> Create a SoulState based on encodeable ingredients
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> A SoulState containing the states of all this Unum's
 Ingredients.
  </dl></dd>
</dl>
<a name="createRoleClassList()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="createRoleClassList"><b>createRoleClassList</b></a>
<pre>
 <a href="ec.plubar.IngredientRoleClassEntry.html#_top_">IngredientRoleClassEntry</a>[] createRoleClassList()
</pre>
<dl>
  <dd> Creates an array of ingredient role/class name pairs; this is a package
 protected method that is called from encode().
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> An array of Ingredient role name/class name pairs.
    <dt> <b>See Also:</b>
    <dd> <a href="#encode">encode</a>
  </dl></dd>
</dl>
<a name="killUnum()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="killUnum"><b>killUnum</b></a>
<pre>
 void killUnum()
</pre>
<dl>
  <dd> Kill this unum.  This is here because an UnumSoul kills it's Unum from
 Pluribus days of yore.  This needs to be revisited to see if we still
 need it.
<p>
</dl>
<a name="encode(ec.e.run.RtEncoder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="encode"><b>encode</b></a>
<pre>
 public void encode(RtEncoder encoder) throws <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
</pre>
<dl>
  <dd> Encode this unum by encoding its UnumDefinition, a list of its
 Ingredients' role and class names and a SoulState containing the
 state bundles of its Ingredients.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> encoder - The encoder to encode into
    <dt> <b>Throws:</b> <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
    <dd> when an encoding error occurs
    <dt> <b>See Also:</b>
    <dd> <a href="ec.plubar.UnumDefinition.html#encode">encode</a>, <a href="#createRoleClassList">createRoleClassList</a>, <a href="#createClientSoulState">createClientSoulState</a>
  </dl></dd>
</dl>
<a name="decode(ec.e.run.RtDecoder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="decode"><b>decode</b></a>
<pre>
 public void decode(RtDecoder decoder) throws <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
</pre>
<dl>
  <dd> Decode an unum.  First decode an UnumDefinition.  Then decode an array
 of IngredientRoleClassEntries and use this array to fill up
 myIngredients with role names and initialize them with new instances
 of the named Classes.  Finally, initialize this new unum by decoding
 a SoulState and calling init().
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> decoder - The decoder to decode from
    <dt> <b>Throws:</b> <a href="ec.plubar.UnumException.html#_top_">UnumException</a>
    <dd> when an encoding error occurs; the following
 exceptions are intercepted and rethrown as UnumExceptions with
 appropriate messages: IOException, ClassNotFoundException,
 IllegalAccessException, InstantiationException.
    <dt> <b>See Also:</b>
    <dd> <a href="ec.plubar.UnumDefinition.html#decode">decode</a>, <a href="#init">init</a>
  </dl></dd>
</dl>
<a name="toString()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="toString"><b>toString</b></a>
<pre>
 public String toString()
</pre>
<dl>
  <dd> Print out this unum.  Mostly bogus for testing purposes.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> Some verbage and myDefinition as a String, along with the
 booleans myPresenceIssued and myCreationMode.
    <dt> <b>Overrides:</b>
    <dd> <a href="java.lang.Object.html#toString()">toString</a> in class Object
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.plubar.html">This Package</a>  <a href="ec.plubar.SoulState.html#_top_">Previous</a>  <a href="ec.plubar.UnumDefinition.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
