<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Thu Jul 24 16:15:31 PDT 1997 -->
<title>
  Class ec.e.rep.crew.CrewRepository
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.rep.crew.html">This Package</a>  <a href="Package-ec.e.rep.crew.html">Previous</a>  <a href="Package-ec.e.rep.crew.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.e.rep.crew.CrewRepository
</h1>
<pre>
java.lang.Object
   |
   +----ec.e.rep.crew.CrewRepository
</pre>
<hr>
<dl>
  <dt> public class <b>CrewRepository</b>
  <dt> extends Object
</dl>
CREW classes can use this class to access the in-vat
 StandardRepository. Later we may well decide to use different
 StandardRepositories for CREW and GUEST code, but for the time
 being this is how we do it. <p>
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#CrewRepository()"><b>CrewRepository</b></a>()
  <dd> 
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#get(java.lang.Object)"><b>get</b></a>(Object)
  <dd> 
 Allow CREW components to use the Repository in the Vat to get
 any objects that have entries in the SymbolTable.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getMyVat()"><b>getMyVat</b></a>()
  <dd> 
 Allow CREW components access to the (currently single) Vat.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setRepository(ec.e.rep.steward.SimpleRepository, ec.e.start.Vat)"><b>setRepository</b></a>(SimpleRepository, Vat)
  <dd> 
 Set our static variable 'theOne' that holds the in-vat
 StandardRepository.
  <dt> <img src="images/green-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#throwingGet(java.lang.Object)"><b>throwingGet</b></a>(Object)
  <dd> 
 Allow CREW components to use the Repository in the Vat to get
 any objects that have entries in the SymbolTable.
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="CrewRepository"></a>
<a name="CrewRepository()"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>CrewRepository</b>
<pre>
 public CrewRepository()
</pre>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="setRepository(ec.e.rep.steward.SimpleRepository, ec.e.start.Vat)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setRepository"><b>setRepository</b></a>
<pre>
 public static void setRepository(SimpleRepository repository,
                                  Vat vat) throws OnceOnlyException, IOException
</pre>
<dl>
  <dd> Set our static variable 'theOne' that holds the in-vat
 StandardRepository.  This method is called only by the
 CrewRepositorySetter, which is a very small STEWARD class with
 only one static method. Therefore, arbitrary GUEST classes do
 not have access to this CREW handle to the Repository. To
 provide a GUEST class StandardRepository access, pass them an
 explicit reference to the StandardRepository.<p>
 The StandardRepository variable theOne won't get assigned
 unless we get a good StandardRepository and a good Symboltable
 hashtable. <p>
 When starting or restarting (after a quake) an applictation,
 you must ensure that the GUEST StandardRepository creator calls
 CrewRepositorySetter.setRepository() whenever it is reopened or
 CREW objects won't be able to use it. <p>
 As a convenience, StandardRepository.summon() will set the
 CrewRepository so you normally won't have to call this method.
<p>
</dl>
<a name="throwingGet(java.lang.Object)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="throwingGet"><b>throwingGet</b></a>
<pre>
 public static Object throwingGet(Object key) throws SmashedException, IOException
</pre>
<dl>
  <dd> Allow CREW components to use the Repository in the Vat to get
 any objects that have entries in the SymbolTable.
 This method throws SmashedException and IOException. If you
 want a cleaner interface call that only throws RuntimeException
 (that don't have to be declared) use CrewRepository.get() instead.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> key - - A String that is looked up in the Repository's
 SymbolTable to yield a Cryptohash object to use as a real key
 to the Repository.
    <dt> <b>Returns:</b>
    <dd> An object - Most often a byte[] (byte array) but could
 potentially be any Java object.
  </dl></dd>
</dl>
<a name="get(java.lang.Object)"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="get"><b>get</b></a>
<pre>
 public static Object get(Object key)
</pre>
<dl>
  <dd> Allow CREW components to use the Repository in the Vat to get
 any objects that have entries in the SymbolTable.
 This method attempts to catch all exceptions under it and only
 throws RuntimeException, to simplify code that calls it. If you
 want to get thrown more diverse exceptions, call throwingGet()
 above instead.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> key - - A String that is looked up in the Repository's
 SymbolTable to yield a Cryptohash object to use as a real key
 to the Repository.
    <dt> <b>Returns:</b>
    <dd> An object - Most often a byte[] (byte array) but could
 potentially be any Java object.
  </dl></dd>
</dl>
<a name="getMyVat()"><img src="images/green-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getMyVat"><b>getMyVat</b></a>
<pre>
 public static Vat getMyVat()
</pre>
<dl>
  <dd> Allow CREW components access to the (currently single) Vat.
<p>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.rep.crew.html">This Package</a>  <a href="Package-ec.e.rep.crew.html">Previous</a>  <a href="Package-ec.e.rep.crew.html">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
