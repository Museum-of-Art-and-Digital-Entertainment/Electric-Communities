<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Thu Jul 24 15:45:43 PDT 1997 -->
<title>
  Class ec.e.rep.steward.DataHolderSteward
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.rep.steward.html">This Package</a>  <a href="Package-ec.e.rep.steward.html">Previous</a>  <a href="Package-ec.e.rep.steward.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.e.rep.steward.DataHolderSteward
</h1>
<pre>
java.lang.Object
   |
   +----ec.e.rep.steward.DataHolderSteward
</pre>
<hr>
<dl>
  <dt> public class <b>DataHolderSteward</b>
  <dt> extends Object
  <dt> implements <a href="ec.e.rep.steward.DataHolder.html#_top_">DataHolder</a>, <a href="ec.e.rep.steward.DataRequestor.html#_top_">DataRequestor</a>
</dl>
DataHolderSteward is the foremost (and so far only) class to
 implement the DataHolder interface - An object that knows how to
 attempt to retrieve some data that it is a placeholder for.
 myFulfiller is the capability needed to resolve to an actual
 reference. <p>
 myDataLeaf is a tether to the perishable data itself and may be
 null or smashed. <p>
 cryptoHash is the cryptographic hash of the data. <p>
 myDataRequestor is either an object that implements the Requestor
 interface or a Vector of objects that do. We check which one it is
 before calling any methods on it. We make sure the myDataLeaf holds
 valid data (fetching it as appropriate) and then call held() on the
 tether and hand the result to the DataRequestor object (or objects)
 These objects are intermediates (or rather, switchboards or
 redirectors, given multiple repositories, network sites to retrieve
 data from, and multiple vats) between the Repository and WWWeb on
 one side and the users of data on the other. As such intermediaries
 they implement both the DataHolder and DataRequestor interfaces.
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#DataHolderSteward(ec.cert.CryptoHash, ec.e.rep.Fulfiller)"><b>DataHolderSteward</b></a>(CryptoHash, Fulfiller)
  <dd> 
 Constructs an DataHolderSteward with a null Tether.
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#DataHolderSteward(ec.e.start.Vat, java.lang.Object, ec.e.rep.Fulfiller, java.util.Hashtable, boolean)"><b>DataHolderSteward</b></a>(Vat, Object, Fulfiller, Hashtable, boolean)
  <dd> 
 Constructor that allows you to specify a certificates table at creation time.
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#acceptData(java.lang.Object, ec.e.rep.steward.DataHolder)"><b>acceptData</b></a>(Object, DataHolder)
  <dd> 
 We implement the DataRequestor interface ourselves since we
 will be called from the WWWeb retrieval code.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#addCertificate(ec.cert.Certificate)"><b>addCertificate</b></a>(Certificate)
  <dd> 
 Add a certificate to our certificate set


  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#certifiedBy(ec.cert.Verifier)"><b>certifiedBy</b></a>(Verifier)
  <dd> 
 Apply a given verifier to our certificates set
 and return pass or fail


  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getCryptohash()"><b>getCryptohash</b></a>()
  <dd> 
 Returns our CryptoHash object


  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#giveDataTo(ec.e.rep.steward.DataRequestor)"><b>giveDataTo</b></a>(DataRequestor)
  <dd> 
 Add a DataRequestor object to this DataHolderSteward.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#handleFailure(java.lang.Exception, ec.e.rep.steward.DataHolder)"><b>handleFailure</b></a>(Exception, DataHolder)
  <dd> 
 Part of DataRequestor interface


  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#held()"><b>held</b></a>()
  <dd> 
 Retrieve the data, if necessary and possible.
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="DataHolderSteward"></a>
<a name="DataHolderSteward(ec.cert.CryptoHash, ec.e.rep.Fulfiller)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>DataHolderSteward</b>
<pre>
 public DataHolderSteward(CryptoHash cryptoHash,
                          <a href="ec.e.rep.Fulfiller.html#_top_">Fulfiller</a> fulfiller)
</pre>
<dl>
  <dd> Constructs an DataHolderSteward with a null Tether. The
 most popular constructor, since you don't normally want your
 DataHolderStewards to already contain their data.
<p>
</dl>
<a name="DataHolderSteward(ec.e.start.Vat, java.lang.Object, ec.e.rep.Fulfiller, java.util.Hashtable, boolean)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>DataHolderSteward</b>
<pre>
 public DataHolderSteward(Vat vat,
                          Object data,
                          <a href="ec.e.rep.Fulfiller.html#_top_">Fulfiller</a> fulfiller,
                          Hashtable certificates,
                          boolean retainTheData)
</pre>
<dl>
  <dd> Constructor that allows you to specify a certificates table at creation time.
<p>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="getCryptohash()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getCryptohash"><b>getCryptohash</b></a>
<pre>
 public CryptoHash getCryptohash()
</pre>
<dl>
  <dd> Returns our CryptoHash object
<p>
</dl>
<a name="certifiedBy(ec.cert.Verifier)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="certifiedBy"><b>certifiedBy</b></a>
<pre>
 public boolean certifiedBy(Verifier verifier)
</pre>
<dl>
  <dd> Apply a given verifier to our certificates set
 and return pass or fail
<p>
</dl>
<a name="addCertificate(ec.cert.Certificate)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="addCertificate"><b>addCertificate</b></a>
<pre>
 public void addCertificate(Certificate certificate)
</pre>
<dl>
  <dd> Add a certificate to our certificate set
<p>
</dl>
<a name="held()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="held"><b>held</b></a>
<pre>
 public Object held() throws <a href="ec.e.rep.steward.RepositoryKeyNotFoundException.html#_top_">RepositoryKeyNotFoundException</a>, IOException
</pre>
<dl>
  <dd> Retrieve the data, if necessary and possible. Returns the data
 synchronously. If the data cannot be retrieved synchronously,
 throws an error.
<p>
</dl>
<a name="giveDataTo(ec.e.rep.steward.DataRequestor)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="giveDataTo"><b>giveDataTo</b></a>
<pre>
 public void giveDataTo(<a href="ec.e.rep.steward.DataRequestor.html#_top_">DataRequestor</a> requestor)
</pre>
<dl>
  <dd> Add a DataRequestor object to this DataHolderSteward.  Whenever the
 data arrives (or fails), it will call the appropriate method in
 the DataRequestor object. This could happen synchronously if we are
 lucky, otherwise it will happen when data arrives.
<p>
</dl>
<a name="acceptData(java.lang.Object, ec.e.rep.steward.DataHolder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="acceptData"><b>acceptData</b></a>
<pre>
 public void acceptData(Object data,
                        <a href="ec.e.rep.steward.DataHolder.html#_top_">DataHolder</a> dataHolder)
</pre>
<dl>
  <dd> We implement the DataRequestor interface ourselves since we
 will be called from the WWWeb retrieval code.
 XXX If the URL code calls back from another thread, then either
 it or this method must synchronize on the VatLock.
<p>
</dl>
<a name="handleFailure(java.lang.Exception, ec.e.rep.steward.DataHolder)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="handleFailure"><b>handleFailure</b></a>
<pre>
 public void handleFailure(Exception exception,
                           <a href="ec.e.rep.steward.DataHolder.html#_top_">DataHolder</a> dataHolder)
</pre>
<dl>
  <dd> Part of DataRequestor interface
<p>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.rep.steward.html">This Package</a>  <a href="Package-ec.e.rep.steward.html">Previous</a>  <a href="Package-ec.e.rep.steward.html">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
