<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Wed Apr 16 18:47:54 PDT 1997 -->
<a name="_top_"></a>
<title>
  Class ec.e.openers.OpenerRecipe
</title>
</head>
<body>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.openers.html">This Package</a>  <a href="ec.e.openers.Opener.html#_top_">Previous</a>  <a href="ec.e.openers.PEHashtableRecipe.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.e.openers.OpenerRecipe
</h1>
<pre>
<a href="java.lang.Object.html#_top_">java.lang.Object</a>
   |
   +----ec.e.openers.OpenerRecipe
</pre>
<hr>
<dl>
  <dt> public final class <b>OpenerRecipe</b>
  <dt> extends <a href="java.lang.Object.html#_top_">Object</a>
  <dt> implements <a href="ec.e.openers.Recipe.html#_top_">Recipe</a>
</dl>
An OpenerRecipe will make, encode, and decode RefOpeners.  It is a
Recipe that knows how to cook RefOpeners.
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#OpenerRecipe(java.util.Enumeration, ec.e.openers.ClassRecipe)"><b>OpenerRecipe</b></a>(Enumeration, ClassRecipe)
  <dd> 
To decode an object, we first must decode its Opener.
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#bodyArgs(java.lang.Object)"><b>bodyArgs</b></a>(Object)
  <dd> Returns the body args to be encoded.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#classRecipe()"><b>classRecipe</b></a>()
  <dd> Returns the ClassRecipe from which our authority flows--the
same one provided as a construction argument.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#commentary()"><b>commentary</b></a>()
  <dd> OpenerRecipes currently return an array of two strings:
"openerID" for the preface arg, and "commentary" for the body
arg.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#cook(java.lang.Object, java.lang.Object[])"><b>cook</b></a>(Object, Object[])
  <dd> Currently does nothing with the decoded commentary

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#forClass(java.lang.Class)"><b>forClass</b></a>(Class)
  <dd> Returns a RefOpener for opening objects of type 'clazz'.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#forObject(java.lang.Object)"><b>forObject</b></a>(Object)
  <dd> Returns a RefOpener capable of opening 'obj', and therefore, of
opening objects like 'obj'.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#forOpenerDesc(java.lang.String)"><b>forOpenerDesc</b></a>(String)
  <dd> Returns an Opener for the supplied openerDesc string.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#halfBakedInstance(java.lang.Object[])"><b>halfBakedInstance</b></a>(Object[])
  <dd> Returns the opener gotten by interpreting prefaceArgs[0] as an
openerID.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#halfBakedInstanceOf(java.lang.Class, java.lang.Object[])"><b>halfBakedInstanceOf</b></a>(Class, Object[])
  <dd> OpenerRecipes don't support halfBakedInstanceOf()

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#openerID()"><b>openerID</b></a>()
  <dd> Returns an openerID that specifies a String as preface, an
Object as body (used as commentary/annotation), and a RefOpener
as return result.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#prefaceArgs(java.lang.Object)"><b>prefaceArgs</b></a>(Object)
  <dd> Returns the preface args to be encoded.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#type()"><b>type</b></a>()
  <dd> Returns the RefOpener Class object.
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="OpenerRecipe"></a>
<a name="OpenerRecipe(java.util.Enumeration, ec.e.openers.ClassRecipe)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>OpenerRecipe</b>
<pre>
  public OpenerRecipe(<a href="java.util.Enumeration.html#_top_">Enumeration</a> cookbook,
                      <a href="ec.e.openers.ClassRecipe.html#_top_">ClassRecipe</a> classRecipe)
</pre>
<dl>
  <dd> To decode an object, we first must decode its Opener.  To
decode an Opener, we have to map from an openerID to an Opener.
The cookbook contains Recipes for openerIDs that need special
cooking instructions.  If we find a matching Recipe, we return
a Chef that cooks with that Recipe.  Failing that, we see if
classRecipe can find the Class from its signature, and if so,
we return a Surgeon for operating on instances of that
class. <p>
  <dl>
    <dt> <b>Parameters:</b>
    <dd> cookbook - The set of Recipes to remember in case I need
to return a corresponding Chef.
    <dd> classRecipe - If the openerID isn't in the cookbook, see
if the classRecipe will cook up a Class from the openerID's
result signature.
  </dl>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="classRecipe()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="classRecipe"><b>classRecipe</b></a>
<pre>
  public <a href="ec.e.openers.ClassRecipe.html#_top_">ClassRecipe</a> classRecipe()
</pre>
<dl>
  <dd> Returns the ClassRecipe from which our authority flows--the
same one provided as a construction argument.
</dl>
<a name="type()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="type"><b>type</b></a>
<pre>
  public <a href="java.lang.Class.html#_top_">Class</a> type()
</pre>
<dl>
  <dd> Returns the RefOpener Class object.
</dl>
<a name="openerID()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="openerID"><b>openerID</b></a>
<pre>
  public <a href="java.lang.String.html#_top_">String</a> openerID()
</pre>
<dl>
  <dd> Returns an openerID that specifies a String as preface, an
Object as body (used as commentary/annotation), and a RefOpener
as return result.
</dl>
<a name="commentary()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="commentary"><b>commentary</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a> commentary()
</pre>
<dl>
  <dd> OpenerRecipes currently return an array of two strings:
"openerID" for the preface arg, and "commentary" for the body
arg.
</dl>
<a name="prefaceArgs(java.lang.Object)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="prefaceArgs"><b>prefaceArgs</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a>[] prefaceArgs(<a href="java.lang.Object.html#_top_">Object</a> opener)
</pre>
<dl>
  <dd> Returns the preface args to be encoded.  This is an array of
one string--the opener's openerID.
</dl>
<a name="bodyArgs(java.lang.Object)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="bodyArgs"><b>bodyArgs</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a>[] bodyArgs(<a href="java.lang.Object.html#_top_">Object</a> opener)
</pre>
<dl>
  <dd> Returns the body args to be encoded.  This is an array of one
Object to be taken as a semantics-free commentary.
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="ec.e.openers.RefOpener.html#commentary">commentary</a>
  </dl>
</dl>
<a name="halfBakedInstance(java.lang.Object[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="halfBakedInstance"><b>halfBakedInstance</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a> halfBakedInstance(<a href="java.lang.Object.html#_top_">Object</a> prefaceArgs[])
</pre>
<dl>
  <dd> Returns the opener gotten by interpreting prefaceArgs[0] as an
openerID.
</dl>
<a name="halfBakedInstanceOf(java.lang.Class, java.lang.Object[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="halfBakedInstanceOf"><b>halfBakedInstanceOf</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a> halfBakedInstanceOf(<a href="java.lang.Class.html#_top_">Class</a> sub,
                                    <a href="java.lang.Object.html#_top_">Object</a> prefaceArgs[])
</pre>
<dl>
  <dd> OpenerRecipes don't support halfBakedInstanceOf()
</dl>
<a name="cook(java.lang.Object, java.lang.Object[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="cook"><b>cook</b></a>
<pre>
  public void cook(<a href="java.lang.Object.html#_top_">Object</a> halfBaked,
                   <a href="java.lang.Object.html#_top_">Object</a> bodyArgs[])
</pre>
<dl>
  <dd> Currently does nothing with the decoded commentary
</dl>
<a name="forObject(java.lang.Object)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="forObject"><b>forObject</b></a>
<pre>
  public <a href="ec.e.openers.RefOpener.html#_top_">RefOpener</a> forObject(<a href="java.lang.Object.html#_top_">Object</a> obj)
</pre>
<dl>
  <dd> Returns a RefOpener capable of opening 'obj', and therefore, of
opening objects like 'obj'. <p>
Special case: if 'obj' is a RefOpener whose maker() is this
object, then this a Chef on this object is the Opener for it.
This is done as a special case, and not through the recipe-
registration mechanism, because security would be violated if
we didn't check the maker() as well.
  <dl>
    <dt> <b>Parameters:</b>
    <dd> obj - suspect;
  </dl>
</dl>
<a name="forClass(java.lang.Class)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="forClass"><b>forClass</b></a>
<pre>
  public <a href="ec.e.openers.RefOpener.html#_top_">RefOpener</a> forClass(<a href="java.lang.Class.html#_top_">Class</a> clazz)
</pre>
<dl>
  <dd> Returns a RefOpener for opening objects of type 'clazz'.
XXX ENCAPSULATION VIOLATION.  Should not be public, but is at
the moment to accomodate ec.e.stream.StreamDB
</dl>
<a name="forOpenerDesc(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="forOpenerDesc"><b>forOpenerDesc</b></a>
<pre>
  public <a href="ec.e.openers.Opener.html#_top_">Opener</a> forOpenerDesc(<a href="java.lang.String.html#_top_">String</a> desc)
</pre>
<dl>
  <dd> Returns an Opener for the supplied openerDesc string.  An
openerDesc is either a signature or an openerID.
<pre>
    desc ::= sig
           | openerID
</pre>
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="ec.e.openers.RefOpener.html#openerID">openerID</a>
  </dl>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.openers.html">This Package</a>  <a href="ec.e.openers.Opener.html#_top_">Previous</a>  <a href="ec.e.openers.PEHashtableRecipe.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
