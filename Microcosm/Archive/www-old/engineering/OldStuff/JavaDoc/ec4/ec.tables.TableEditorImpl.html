<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Wed May 20 22:30:26 PDT 1998 -->
<title>
  Class ec.tables.TableEditorImpl
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.tables.html">This Package</a>  <a href="ec.tables.TableEditor.html#_top_">Previous</a>  <a href="ec.tables.TablePuttingFunc.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.tables.TableEditorImpl
</h1>
<pre>
<a href="java.lang.Object.html#_top_">java.lang.Object</a>
   |
   +----<a href="ec.tables.TableEditor.html#_top_">ec.tables.TableEditor</a>
           |
           +----ec.tables.TableEditorImpl
</pre>
<hr>
<dl>
  <dt> public class <b>TableEditorImpl</b>
  <dt> extends <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
</dl>
An implementation of TableEditor by MarkM & Sidney, based on an earlier 
 design by Dan.
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/variable-index.gif" width=207 height=38 alt="Variable Index">
</h2>
<dl>
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#DEFAULT_INIT_CAPACITY"><b>DEFAULT_INIT_CAPACITY</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#DEFAULT_LOAD_FACTOR"><b>DEFAULT_LOAD_FACTOR</b></a>
  <dd>  This default load factor is calculated to preserve the same
 marginal space cost per hash table entry as
 java.util.Hashtable, given its default load factor of 0.75.
</dl>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#TableEditorImpl()"><b>TableEditorImpl</b></a>()
  <dd>  Reasonable defaults

  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#TableEditorImpl(boolean, java.lang.Class, java.lang.Class)"><b>TableEditorImpl</b></a>(boolean, Class, Class)
  <dd>  Reasonable defaults with identity-based (as opposed to
 equality-based) key lookup

  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#TableEditorImpl(boolean, java.lang.Class, java.lang.Class, int, float)"><b>TableEditorImpl</b></a>(boolean, Class, Class, int, float)
  <dd> 

  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#TableEditorImpl(boolean, int)"><b>TableEditorImpl</b></a>(boolean, int)
  <dd>  Reasonable defaults with identity-based (as opposed to
 equality-based) key lookup

  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#TableEditorImpl(java.lang.Class, java.lang.Class)"><b>TableEditorImpl</b></a>(Class, Class)
  <dd>  Reasonable defaults

  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#TableEditorImpl(ec.tables.FixedTable)"><b>TableEditorImpl</b></a>(FixedTable)
  <dd> 

  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#TableEditorImpl(int)"><b>TableEditorImpl</b></a>(int)
  <dd>  Reasonable defaults

  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#TableEditorImpl(int, float)"><b>TableEditorImpl</b></a>(int, float)
  <dd>  Reasonable defaults

</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#clear()"><b>clear</b></a>()
  <dd>  Removes all associations from this table, leaving this table
 empty.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#clone()"><b>clone</b></a>()
  <dd>  Unlike java.util.Hashtable, this part efficiently makes a lazy
 copy by copy-on-write sharing.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#containsKey(java.lang.Object)"><b>containsKey</b></a>(Object)
  <dd>  Returns true if the specified object is a key in the
 collection, as defined by the equality function of the collection.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#each(ec.tables.AssocFunc)"><b>each</b></a>(AssocFunc)
  <dd>  Call 'func' with each key-value pair in the Table.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#elements()"><b>elements</b></a>()
  <dd>  Return an enumeration of the values in the table.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#get(java.lang.Object)"><b>get</b></a>(Object)
  <dd>  Returns the value to which the key is mapped in this table.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#get(java.lang.Object, java.lang.Object)"><b>get</b></a>(Object, Object)
  <dd>  Returns the value to which the key is mapped in this table.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#isIdentity()"><b>isIdentity</b></a>()
  <dd>  Does this table compare keys based on EQ identity rather than
 equality?

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#keys()"><b>keys</b></a>()
  <dd>  Return an enumeration of the keys in the collection.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#keyType()"><b>keyType</b></a>()
  <dd>  All keys in this table must be of this type

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#put(java.lang.Object, java.lang.Object, boolean)"><b>put</b></a>(Object, Object, boolean)
  <dd>  Causes 'key' to map to 'value'.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#remove(java.lang.Object, boolean)"><b>remove</b></a>(Object, boolean)
  <dd>  Removes the given key (or its equivalent, according to the
 equal function) from the collection.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#size()"><b>size</b></a>()
  <dd>  The number of keys in the collection

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#toString()"><b>toString</b></a>()
  <dd>  Returns a string representation of the object.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#valueType()"><b>valueType</b></a>()
  <dd>  All values in this table must be of this type

</dl>
<a name="variables"></a>
<h2>
  <img src="images/variables.gif" width=153 height=38 alt="Variables">
</h2>
<a name="DEFAULT_LOAD_FACTOR"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>DEFAULT_LOAD_FACTOR</b>
<pre>
 public static final float DEFAULT_LOAD_FACTOR
</pre>
<dl>
  <dd> This default load factor is calculated to preserve the same
 marginal space cost per hash table entry as
 java.util.Hashtable, given its default load factor of 0.75.
 For a table of 100 entries, assuming only one word of hidden
 boxing overhead, java.util.Hastable uses:
      sizeof(HashtableEntry) == 5*4 == 20
      100 * 20 == 2000
      (capacity = 100 / 0.75 == 133)
      capacity * 4 = 533
      bytes per entry == 25.33
 TableEditorImpl, by contrast, uses 13 bytes per unit capacity (slot)
 irrespective of how many are occupied.
      13/25.33 == 0.52 (approx)<p>
</dl>
<a name="DEFAULT_INIT_CAPACITY"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>DEFAULT_INIT_CAPACITY</b>
<pre>
 public static final int DEFAULT_INIT_CAPACITY
</pre>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="TableEditorImpl"></a>
<a name="TableEditorImpl(boolean, java.lang.Class, java.lang.Class, int, float)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>TableEditorImpl</b>
<pre>
 public TableEditorImpl(boolean isIdentity,
                        <a href="java.lang.Class.html#_top_">Class</a> keyType,
                        <a href="java.lang.Class.html#_top_">Class</a> valueType,
                        int initCapacity,
                        float loadFactor)
</pre>
<dl>
</dl>
<a name="TableEditorImpl()"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>TableEditorImpl</b>
<pre>
 public TableEditorImpl()
</pre>
<dl>
  <dd> Reasonable defaults
<p>
</dl>
<a name="TableEditorImpl(int)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>TableEditorImpl</b>
<pre>
 public TableEditorImpl(int initialCapacity)
</pre>
<dl>
  <dd> Reasonable defaults
<p>
</dl>
<a name="TableEditorImpl(int, float)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>TableEditorImpl</b>
<pre>
 public TableEditorImpl(int initialCapacity,
                        float loadFactor)
</pre>
<dl>
  <dd> Reasonable defaults
<p>
</dl>
<a name="TableEditorImpl(java.lang.Class, java.lang.Class)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>TableEditorImpl</b>
<pre>
 public TableEditorImpl(<a href="java.lang.Class.html#_top_">Class</a> keyType,
                        <a href="java.lang.Class.html#_top_">Class</a> valueType)
</pre>
<dl>
  <dd> Reasonable defaults
<p>
</dl>
<a name="TableEditorImpl(boolean, java.lang.Class, java.lang.Class)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>TableEditorImpl</b>
<pre>
 public TableEditorImpl(boolean isIdentity,
                        <a href="java.lang.Class.html#_top_">Class</a> keyType,
                        <a href="java.lang.Class.html#_top_">Class</a> valueType)
</pre>
<dl>
  <dd> Reasonable defaults with identity-based (as opposed to
 equality-based) key lookup
<p>
</dl>
<a name="TableEditorImpl(boolean, int)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>TableEditorImpl</b>
<pre>
 public TableEditorImpl(boolean isIdentity,
                        int initCapacity)
</pre>
<dl>
  <dd> Reasonable defaults with identity-based (as opposed to
 equality-based) key lookup
<p>
</dl>
<a name="TableEditorImpl(ec.tables.FixedTable)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>TableEditorImpl</b>
<pre>
 public TableEditorImpl(FixedTable prefaceArgs)
</pre>
<dl>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="size()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="size"><b>size</b></a>
<pre>
 public int size()
</pre>
<dl>
  <dd> The number of keys in the collection
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#size()">size</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="keys()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="keys"><b>keys</b></a>
<pre>
 public <a href="java.util.Enumeration.html#_top_">Enumeration</a> keys()
</pre>
<dl>
  <dd> Return an enumeration of the keys in the collection.  May include a
 null.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> the enumeration
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#keys()">keys</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="elements()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="elements"><b>elements</b></a>
<pre>
 public <a href="java.util.Enumeration.html#_top_">Enumeration</a> elements()
</pre>
<dl>
  <dd> Return an enumeration of the values in the table.  May include
 nulls.
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> the enumeration
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#elements()">elements</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="each(ec.tables.AssocFunc)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="each"><b>each</b></a>
<pre>
 public void each(<a href="ec.tables.AssocFunc.html#_top_">AssocFunc</a> func) throws <a href="java.lang.Throwable.html#_top_">Throwable</a>
</pre>
<dl>
  <dd> Call 'func' with each key-value pair in the Table.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#each(ec.tables.AssocFunc)">each</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="toString()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="toString"><b>toString</b></a>
<pre>
 public <a href="java.lang.String.html#_top_">String</a> toString()
</pre>
<dl>
  <dd> Returns a string representation of the object.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="java.lang.Object.html#toString()">toString</a> in class <a href="java.lang.Object.html#_top_">Object</a>
  </dl></dd>
</dl>
<a name="containsKey(java.lang.Object)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="containsKey"><b>containsKey</b></a>
<pre>
 public boolean containsKey(<a href="java.lang.Object.html#_top_">Object</a> key)
</pre>
<dl>
  <dd> Returns true if the specified object is a key in the
 collection, as defined by the equality function of the collection.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> key - the object to look for
    <dt> <b>Returns:</b>
    <dd> true if the key is in the collection
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#containsKey(java.lang.Object)">containsKey</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="get(java.lang.Object)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="get"><b>get</b></a>
<pre>
 public <a href="java.lang.Object.html#_top_">Object</a> get(<a href="java.lang.Object.html#_top_">Object</a> key) throws <a href="java.lang.IndexOutOfBoundsException.html#_top_">IndexOutOfBoundsException</a>
</pre>
<dl>
  <dd> Returns the value to which the key is mapped in this table.
 Unlike java.util.Dictionary, a Table doesn't indicate a lookup
 failure by returning null, since null is a valid value.
 Table throws an exception instead.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#get(java.lang.Object)">get</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="get(java.lang.Object, java.lang.Object)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="get"><b>get</b></a>
<pre>
 public <a href="java.lang.Object.html#_top_">Object</a> get(<a href="java.lang.Object.html#_top_">Object</a> key,
                   <a href="java.lang.Object.html#_top_">Object</a> instead)
</pre>
<dl>
  <dd> Returns the value to which the key is mapped in this table.
 If key is not mapped, return 'instead' instead.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#get(java.lang.Object, java.lang.Object)">get</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="put(java.lang.Object, java.lang.Object, boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="put"><b>put</b></a>
<pre>
 public void put(<a href="java.lang.Object.html#_top_">Object</a> key,
                 <a href="java.lang.Object.html#_top_">Object</a> value,
                 boolean strict)
</pre>
<dl>
  <dd> Causes 'key' to map to 'value'.  If 'strict' is false (the
 default), this will overwrite a previous value if necessary.
 If 'strict' is true, this only succeeds if there is not already
 an association for 'key' in the table.  If 'strict' is true and
 there is an already an association, even to the same value,
 this throws an Exception instead (XXX currently an
 IllegalArgumentException) and leaves the table unmodified. <p>
 Unlike Dictionary, this doesn't return the old value.  If you
 want it, use 'get' first.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#put(java.lang.Object, java.lang.Object, boolean)">put</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="remove(java.lang.Object, boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="remove"><b>remove</b></a>
<pre>
 public void remove(<a href="java.lang.Object.html#_top_">Object</a> key,
                    boolean strict)
</pre>
<dl>
  <dd> Removes the given key (or its equivalent, according to the
 equal function) from the collection. If 'strict' is false (the
 default), this does nothing if 'key' is not currently a key in
 the collection.  If 'strict' is true and 'key' isn't already
 there to be removed, this throws an Exception (XXX currently an
 IllegalArgumentException).  <p>
 Unlike Dictionary, this does not return the old value.  If you
 want this for a Table, use 'get' first.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> key - the key to remove
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#remove(java.lang.Object, boolean)">remove</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="clear()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="clear"><b>clear</b></a>
<pre>
 public void clear()
</pre>
<dl>
  <dd> Removes all associations from this table, leaving this table
 empty. <p>
 Rather than doing a write-fault (which would make a private
 copy to be immediately dropped) this decrements the sharing
 count and re-initializes.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#clear()">clear</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="clone()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="clone"><b>clone</b></a>
<pre>
 public <a href="java.lang.Object.html#_top_">Object</a> clone()
</pre>
<dl>
  <dd> Unlike java.util.Hashtable, this part efficiently makes a lazy
 copy by copy-on-write sharing.  Modify operations on a shared
 table then cause the delayed copy to happen.
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#clone()">clone</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="isIdentity()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="isIdentity"><b>isIdentity</b></a>
<pre>
 public boolean isIdentity()
</pre>
<dl>
  <dd> Does this table compare keys based on EQ identity rather than
 equality?
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#isIdentity()">isIdentity</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="keyType()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="keyType"><b>keyType</b></a>
<pre>
 public <a href="java.lang.Class.html#_top_">Class</a> keyType()
</pre>
<dl>
  <dd> All keys in this table must be of this type
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#keyType()">keyType</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<a name="valueType()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="valueType"><b>valueType</b></a>
<pre>
 public <a href="java.lang.Class.html#_top_">Class</a> valueType()
</pre>
<dl>
  <dd> All values in this table must be of this type
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="ec.tables.TableEditor.html#valueType()">valueType</a> in class <a href="ec.tables.TableEditor.html#_top_">TableEditor</a>
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.tables.html">This Package</a>  <a href="ec.tables.TableEditor.html#_top_">Previous</a>  <a href="ec.tables.TablePuttingFunc.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
