<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Wed Apr 16 18:47:54 PDT 1997 -->
<a name="_top_"></a>
<title>
  Class ec.e.start.EEnvironment
</title>
</head>
<body>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.start.html">This Package</a>  <a href="ec.e.start.EBoot.html#_top_">Previous</a>  <a href="ec.e.start.FragileRootHolder.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.e.start.EEnvironment
</h1>
<pre>
<a href="java.lang.Object.html#_top_">java.lang.Object</a>
   |
   +----ec.e.start.EEnvironment
</pre>
<hr>
<dl>
  <dt> public class <b>EEnvironment</b>
  <dt> extends <a href="java.lang.Object.html#_top_">Object</a>
</dl>
An EEnvironment is a steward passed to the first guest when a Vat
is launched.  Any guest that gets an EEnvironment is assumed to be
fully trusted, and so is part of the TCB.  Such guests should only
hand out individual capabilities from the EEnvironment to any
guests that are less than fully trusted. <p>
An EEnvironment contains a set of properties and an array of
argument strings presumed to reflect the command line of this
incarnation of this process.  Copies are retrieved by props() and
args() (Copies are made to prevent shared side effects.  Once in
the real EVat, the args array will no longer need to be copied.).
Individual properties can also be retrieved by name (with optional
default values) by the getProperty() functions. <p>
The EEnvironment also provides access to the Vat it inhabits. <p>
Most importantly, the EEnvironment provides access to magic
powers.  A magic power is a capability providing in-vat
all-powerful access to some out-of-vat system service, like the
file system.  Magic powers themselves should typically not be
handed too far.  Rather, magic powers should provide a protocol for
deriving lesser powers, such as access to a subdirectory, which are
then handed to various parties. <p>
Magic powers are generally sturdy, regenerating the out-of-vat
service and hooking it back up as needed.  Lesser powers may be
sturdy or fragile, on a case by case basis.  Sturdy lesser powers
often reconstruct themselves by encapsulating the magic power from
which they are derived, and rederiving themselves accordingly.
<hr>
<a name="index"></a>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#args()"><b>args</b></a>()
  <dd> 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getProperty(java.lang.String)"><b>getProperty</b></a>(String)
  <dd> 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getProperty(java.lang.String, java.lang.String)"><b>getProperty</b></a>(String, String)
  <dd> 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#magicPower(java.lang.String)"><b>magicPower</b></a>(String)
  <dd> A guest asks for a magic power by saying the name of the crew
class that creates the power.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#propertyNames()"><b>propertyNames</b></a>()
  <dd> 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#props()"><b>props</b></a>()
  <dd> 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#vat()"><b>vat</b></a>()
  <dd> 
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="args()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="args"><b>args</b></a>
<pre>
  public <a href="java.lang.String.html#_top_">String</a>[] args()
</pre>
<dl>
  <dl>
    <dt> <b>Returns:</b>
    <dd> The command line arguments after properties are
stripped off.  If this process is a revival
from an earlier checkpoint, args() will reflect the revival
command line.
  </dl>
</dl>
<a name="props()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="props"><b>props</b></a>
<pre>
  public <a href="java.util.Properties.html#_top_">Properties</a> props()
</pre>
<dl>
  <dl>
    <dt> <b>Returns:</b>
    <dd> Properties specified by the command line of the current
incarnation of the process.  Ie, if this process is a revival
from an earlier checkpoint, props() will reflect the properties
specified by the revival command line.
  </dl>
</dl>
<a name="getProperty(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getProperty"><b>getProperty</b></a>
<pre>
  public <a href="java.lang.String.html#_top_">String</a> getProperty(<a href="java.lang.String.html#_top_">String</a> key)
</pre>
<dl>
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="java.util.Properties.html#getProperty">getProperty</a>
  </dl>
</dl>
<a name="getProperty(java.lang.String, java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getProperty"><b>getProperty</b></a>
<pre>
  public <a href="java.lang.String.html#_top_">String</a> getProperty(<a href="java.lang.String.html#_top_">String</a> key,
                            <a href="java.lang.String.html#_top_">String</a> def)
</pre>
<dl>
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="java.util.Properties.html#getProperty">getProperty</a>
  </dl>
</dl>
<a name="propertyNames()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="propertyNames"><b>propertyNames</b></a>
<pre>
  public <a href="java.util.Enumeration.html#_top_">Enumeration</a> propertyNames()
</pre>
<dl>
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="java.util.Properties.html#propertyNames">propertyNames</a>
  </dl>
</dl>
<a name="vat()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="vat"><b>vat</b></a>
<pre>
  public <a href="ec.e.start.Vat.html#_top_">Vat</a> vat()
</pre>
<dl>
  <dl>
    <dt> <b>Returns:</b>
    <dd> The Vat we inhabit
  </dl>
</dl>
<a name="magicPower(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="magicPower"><b>magicPower</b></a>
<pre>
  public <a href="java.lang.Object.html#_top_">Object</a> magicPower(<a href="java.lang.String.html#_top_">String</a> powerMakerClassName) throws <a href="java.lang.ClassNotFoundException.html#_top_">ClassNotFoundException</a>, <a href="java.lang.IllegalAccessException.html#_top_">IllegalAccessException</a>, <a href="java.lang.InstantiationException.html#_top_">InstantiationException</a>
</pre>
<dl>
  <dd> A guest asks for a magic power by saying the name of the crew
class that creates the power.  The EEnvironment will summon
that class into existence if needed to create the power.  Many
magic power classes, such as EDirectoryRootMaker, provide a
static summon() method as a convenient wrapper around
magicPower().
  <dl>
    <dt> <b>Parameters:</b>
    <dd> powerMakerClassName - the name of the crew class that
makes the power being requested.  This class must implement
MagicPowerMaker, and must be public and have a public
no-argument constructor.
    <dt> <b>Returns:</b>
    <dd> The magic power itself.  This provides
all-encompassing (but typically subdividable) authority over
some system service.  The MagicPowerMaker should typically
arrange for the power to be sturdy.
    <dt> <b>Throws:</b> <a href="java.lang.ClassNotFoundException.html#_top_">ClassNotFoundException</a>
    <dd> thrown if the powerMaker
class could not be found.
    <dt> <b>Throws:</b> <a href="java.lang.IllegalAccessException.html#_top_">IllegalAccessException</a>
    <dd> thrown if the powerMaker
class isn't public, or if its newInstance() method isn't
public.
    <dt> <b>Throws:</b> <a href="java.lang.InstantiationException.html#_top_">InstantiationException</a>
    <dd> thrown if instantiation fails
for some other reason.
    <dt> <b>See Also:</b>
    <dd> <a href="ec.e.file.EDirectoryRootMaker.html#_top_">EDirectoryRootMaker</a>
  </dl>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.e.start.html">This Package</a>  <a href="ec.e.start.EBoot.html#_top_">Previous</a>  <a href="ec.e.start.FragileRootHolder.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
