<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Mon Apr 27 11:17:03 PDT 1998 -->
<title>
  Class ec.identity.Identity
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.identity.html">This Package</a>  <a href="Package-ec.identity.html">Previous</a>  <a href="ec.identity.IdentityOwner.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.identity.Identity
</h1>
<pre>
java.lang.Object
   |
   +----ec.identity.Identity
</pre>
<hr>
<dl>
  <dt> public class <b>Identity</b>
  <dt> extends Object
</dl>
An Identity object is a capability management point, providing
 capability drop off, capability requests and capability checking.
 Typically a cluster of component objects will use an Identity to
 present a "public face" to the world. The rest of the world deals
 with the Identity interface for capability exchange and checking,
 and doesn't know anything about the component objects. The component
 objects hold a private pointer to an IdentityOwner object, which
 gives them privileged access to the Identity and allows them to
 request and provide capabilities to the rest of the world.
 <p>
 E's secure comm system ensures that if you have a reference or
 persistent reference (i.e. SturdyRef) to an Identity you can
 guarantee that future messages to that reference will be delivered
 to the same object (they may fail to reach any object, but they can
 never be delivered to the wrong object). So an Identity can be
 the basis of a reputation, and you can choose the capabilities you
 are willing to give to an identity according to that reputation.
 <p>
 For capability drop off, Identity has a public method which can
 be used to donate a capability and get a receipt in return. For
 capability requests it has a request capability method which can
 issue a named capability based on the identity of the requestor.
 For capability checking it has methods which allow callers to
 check if a given capability is registered with this identity.
<p>
<dl>
    <dt> <b>See Also:</b>
    <dd> <a href="ec.identity.IdentityOwner.html#_top_">IdentityOwner</a>, <a href="ec.identity.SturdyIdentity.html#_top_">SturdyIdentity</a>
</dl>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Identity(ec.identity.IdentityOwner)"><b>Identity</b></a>(IdentityOwner)
  <dd> 
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#checkForCapability(ec.identity.EObject, ec.identity.EResult)"><b>checkForCapability</b></a>(EObject, EResult)
  <dd>  Check if identity owns the given capability   i.e.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#confirmCapability(ec.identity.EObject, ec.identity.ConfirmCapability)"><b>confirmCapability</b></a>(EObject, ConfirmCapability)
  <dd>  Check if capability is present; callback argument if it is or isn't.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#giveCapability(ec.identity.EObject, ec.identity.EResult)"><b>giveCapability</b></a>(EObject, EResult)
  <dd>  Public method called to give the Identity a capability.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#requestCapability(ec.identity.SturdyIdentity, java.lang.String, java.lang.Object, ec.identity.EResult)"><b>requestCapability</b></a>(SturdyIdentity, String, Object, EResult)
  <dd>  Public method called to request a capability from the owner of
 an identity.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#toString()"><b>toString</b></a>()
  <dd>  Returns string describing owner and this object

</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="Identity"></a>
<a name="Identity(ec.identity.IdentityOwner)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>Identity</b>
<pre>
 public Identity(<a href="ec.identity.IdentityOwner.html#_top_">IdentityOwner</a> owner)
</pre>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="requestCapability(ec.identity.SturdyIdentity, java.lang.String, java.lang.Object, ec.identity.EResult)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="requestCapability"><b>requestCapability</b></a>
<pre>
 public void requestCapability(<a href="ec.identity.SturdyIdentity.html#_top_">SturdyIdentity</a> requestor,
                               String requestName,
                               Object requestData,
                               EResult capabilityReceiptDistributor) throws <a href="ec.identity.IdentityException.html#_top_">IdentityException</a>
</pre>
<dl>
  <dd> Public method called to request a capability from the owner of
 an identity. The owner will check to see if it trusts the requesting
 identity enough to give it the capability. If it does it uses
 'giveCapability' to give the requesting identity the capability;
 this "call back" pattern avoids spoofing (rather like some modem
 systems which work by calling your number when you call them). The
 receipt generated by 'giveCapability' is then given back to the
 caller. If the caller really is the requesting identity, as they
 claim, they can use this receipt to redeem the capability.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> requestor - the identity who is requesting the capability
    <dd> requestName - a string name identifying the type of the request
    <dd> requestParams - an Object representing any data that
   goes with this request
    <dd> capabilityReceiptDistributor - if we agree to accept the request,
   we'll give the other identity some capability to continue the
   interaction. We'll give this capability to their identity (via
   giveCapability) using this distributor to get the receipt.
    <dt> <b>Throws:</b> <a href="ec.identity.IdentityException.html#_top_">IdentityException</a>
    <dd> thrown if request is denied (e.g.
   is not a known request, permission refused)
  </dl></dd>
</dl>
<a name="giveCapability(ec.identity.EObject, ec.identity.EResult)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="giveCapability"><b>giveCapability</b></a>
<pre>
 public void giveCapability(EObject capability,
                            EResult receiptDistributor)
</pre>
<dl>
  <dd> Public method called to give the Identity a capability.
 "receiptDistributor" is forwarded to an "CapabilityReceipt"
 object. This can be later be presented to the
 "getCapabilityForReceipt" method on the IdentityOwner
 (assuming you can get to the owner) in order to redeem the
 capability. So anyone who can get at the identity (identities
 are not tightly held) can give a capability. Only code with
 access to the identity owner (much more tightly held) can
 redeem the receipt.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> capability - the capability
    <dd> receiptDistributor - EResult to be forwarded to receipt
  </dl></dd>
</dl>
<a name="checkForCapability(ec.identity.EObject, ec.identity.EResult)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="checkForCapability"><b>checkForCapability</b></a>
<pre>
 public void checkForCapability(EObject capability,
                                EResult capabilityDistributor) throws <a href="ec.identity.IdentityException.html#_top_">IdentityException</a>
</pre>
<dl>
  <dd> Check if identity owns the given capability   i.e. if it has been
 registered with the identity owner.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> capability - the capability that may be owned by the identity
    <dd> checkedCapability - if the identity does own the capability,
   this distributor is forwarded to the capability (this allows
   the caller to use the capability optimistically). If the identity
   does not own the capability this distributor is not forwarded
    <dt> <b>Throws:</b> <a href="ec.identity.IdentityException.html#_top_">IdentityException</a>
    <dd> with error code INVALID_CAPABILITY
   if the capability is not owned by the given identity.
  </dl></dd>
</dl>
<a name="confirmCapability(ec.identity.EObject, ec.identity.ConfirmCapability)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="confirmCapability"><b>confirmCapability</b></a>
<pre>
 public void confirmCapability(EObject capability,
                               ConfirmCapability confirmer) throws <a href="ec.identity.IdentityException.html#_top_">IdentityException</a>
</pre>
<dl>
  <dd> Check if capability is present; callback argument if it is or isn't.
 This is just an alternative, more efficient, version of
 'checkForCapability'; it arounds some extra implicit round trips
 which are hidden by our current channel/distributor implementation.
<p>
</dl>
<a name="toString()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="toString"><b>toString</b></a>
<pre>
 public String toString()
</pre>
<dl>
  <dd> Returns string describing owner and this object
<p>
  <dd><dl>
    <dt> <b>Overrides:</b>
    <dd> <a href="java.lang.Object.html#toString()">toString</a> in class Object
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.identity.html">This Package</a>  <a href="Package-ec.identity.html">Previous</a>  <a href="ec.identity.IdentityOwner.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
