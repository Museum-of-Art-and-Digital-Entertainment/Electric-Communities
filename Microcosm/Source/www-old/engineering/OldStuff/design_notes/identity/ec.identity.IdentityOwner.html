<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Mon Apr 27 11:17:03 PDT 1998 -->
<title>
  Class ec.identity.IdentityOwner
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.identity.html">This Package</a>  <a href="ec.identity.Identity.html#_top_">Previous</a>  <a href="ec.identity.SturdyIdentity.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class ec.identity.IdentityOwner
</h1>
<pre>
java.lang.Object
   |
   +----ec.identity.IdentityOwner
</pre>
<hr>
<dl>
  <dt> public class <b>IdentityOwner</b>
  <dt> extends Object
</dl>
An IdentityOwner is associated with a Identity, but is
 tightly held by the owner of the Identity. The owner can use
 the IdentityOwner to redeem capability receipts, to register
 capability request handlers, and to register and unregister
 capabilities. It is also used by the Identity to generate
 capability receipts.
<p>
<dl>
    <dt> <b>See Also:</b>
    <dd> <a href="ec.identity.Identity.html#_top_">Identity</a>
</dl>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#IdentityOwner()"><b>IdentityOwner</b></a>()
  <dd> Constructor
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#checkForCapability(ec.identity.EObject, ec.identity.EResult)"><b>checkForCapability</b></a>(EObject, EResult)
  <dd>  Check for given capability.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#confirmCapability(ec.identity.EObject, ec.identity.ConfirmCapability)"><b>confirmCapability</b></a>(EObject, ConfirmCapability)
  <dd>  Check for given capability.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#createReceiptForCapability(ec.identity.EObject, ec.identity.EResult)"><b>createReceiptForCapability</b></a>(EObject, EResult)
  <dd>  Create a new receipt for the given capability.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getCapabilityForReceipt(ec.identity.CapabilityReceipt, ec.identity.EResult)"><b>getCapabilityForReceipt</b></a>(CapabilityReceipt, EResult)
  <dd>  Redeem a receipt for the actual capability.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#handleRequestForCapability(ec.identity.SturdyIdentity, java.lang.String, java.lang.Object, ec.identity.EResult)"><b>handleRequestForCapability</b></a>(SturdyIdentity, String, Object, EResult)
  <dd>  Handle the named request by calling the appropriate handler.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#registerCapability(ec.identity.EObject, ec.identity.EResult)"><b>registerCapability</b></a>(EObject, EResult)
  <dd>  Register a given capability with the identity owner, so that others
 can check that it really belongs to the identity.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#registerCapabilityRequestHandler(java.lang.String, ec.identity.CapabilityRequestHandler)"><b>registerCapabilityRequestHandler</b></a>(String, CapabilityRequestHandler)
  <dd>  Register a capability request handler for the given request name.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#unregisterCapability(ec.identity.EObject, ec.identity.EResult)"><b>unregisterCapability</b></a>(EObject, EResult)
  <dd>  Unregister a previously registered capability.
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="IdentityOwner"></a>
<a name="IdentityOwner()"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>IdentityOwner</b>
<pre>
 public IdentityOwner()
</pre>
<dl>
  <dd> Constructor
<p>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="createReceiptForCapability(ec.identity.EObject, ec.identity.EResult)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="createReceiptForCapability"><b>createReceiptForCapability</b></a>
<pre>
 public void createReceiptForCapability(EObject capability,
                                        EResult receiptDistributor)
</pre>
<dl>
  <dd> Create a new receipt for the given capability. Only this owner object
 can redeem the receipt.
<p>
</dl>
<a name="getCapabilityForReceipt(ec.identity.CapabilityReceipt, ec.identity.EResult)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getCapabilityForReceipt"><b>getCapabilityForReceipt</b></a>
<pre>
 public void getCapabilityForReceipt(CapabilityReceipt receipt,
                                     EResult capabilityDistributor) throws <a href="ec.identity.IdentityException.html#_top_">IdentityException</a>
</pre>
<dl>
  <dd> Redeem a receipt for the actual capability.
<p>
</dl>
<a name="registerCapabilityRequestHandler(java.lang.String, ec.identity.CapabilityRequestHandler)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="registerCapabilityRequestHandler"><b>registerCapabilityRequestHandler</b></a>
<pre>
 public void registerCapabilityRequestHandler(String requestName,
                                              CapabilityRequestHandler handler)
</pre>
<dl>
  <dd> Register a capability request handler for the given request name.
<p>
</dl>
<a name="handleRequestForCapability(ec.identity.SturdyIdentity, java.lang.String, java.lang.Object, ec.identity.EResult)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="handleRequestForCapability"><b>handleRequestForCapability</b></a>
<pre>
 public void handleRequestForCapability(<a href="ec.identity.SturdyIdentity.html#_top_">SturdyIdentity</a> requestor,
                                        String requestName,
                                        Object requestData,
                                        EResult capabilityReceiptDistributor) throws <a href="ec.identity.IdentityException.html#_top_">IdentityException</a>
</pre>
<dl>
  <dd> Handle the named request by calling the appropriate handler.
<p>
  <dd><dl>
    <dt> <b>Throws:</b> <a href="ec.identity.IdentityException.html#_top_">IdentityException</a>
    <dd> if there is no handler for the
   named request.
  </dl></dd>
</dl>
<a name="registerCapability(ec.identity.EObject, ec.identity.EResult)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="registerCapability"><b>registerCapability</b></a>
<pre>
 public void registerCapability(EObject capability,
                                EResult capabilityDistributor)
</pre>
<dl>
  <dd> Register a given capability with the identity owner, so that others
 can check that it really belongs to the identity.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> capability - the capability. This capability must have a
   'value' method that returns 'this', so that 'ewhen' can be used
   to get rid of any intervening channel.
    <dd> capabilityDist - a distributor that is forwarded to
   'capability' after it has been registered
    <dt> <b>Throws:</b> IllegalArgumentException
    <dd> thrown if 'capability' does
   not have a 'value' method that returns 'this'. 'capabilityDist'
   is never forwarded if this exception is thrown.
  </dl></dd>
</dl>
<a name="unregisterCapability(ec.identity.EObject, ec.identity.EResult)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="unregisterCapability"><b>unregisterCapability</b></a>
<pre>
 public void unregisterCapability(EObject capability,
                                  EResult capabilityDistributor)
</pre>
<dl>
  <dd> Unregister a previously registered capability.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> capability - the capability. This capability must have a
   'value' method that returns 'this', so that 'ewhen' can be used
   to get rid of any intervening channel.
    <dd> capabilityDist - a distributor that is forwarded to
   'capability' after it has been unregistered
    <dt> <b>Throws:</b> IllegalArgumentException
    <dd> thrown if 'capability' does
   not have a 'value' method that returns 'this' or is not in the
   table. 'capabilityDist' is never forwarded if this exception is
   thrown.
  </dl></dd>
</dl>
<a name="checkForCapability(ec.identity.EObject, ec.identity.EResult)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="checkForCapability"><b>checkForCapability</b></a>
<pre>
 public void checkForCapability(EObject capability,
                                EResult capabilityDistributor) throws <a href="ec.identity.IdentityException.html#_top_">IdentityException</a>
</pre>
<dl>
  <dd> Check for given capability. Is it in our table of registered
 capabilities?
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> capability - the capability that may be registered
    <dd> checkedCapability - if the identity is registerd
   this distributor is forwarded to the capability (this allows
   the caller to use the capability optimistically). If the identity
   does not own the capability this distributor is not forwarded
    <dt> <b>Throws:</b> <a href="ec.identity.IdentityException.html#_top_">IdentityException</a>
    <dd> with error code INVALID_CAPABILITY
   if the capability is not owned by the given identity.
  </dl></dd>
</dl>
<a name="confirmCapability(ec.identity.EObject, ec.identity.ConfirmCapability)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="confirmCapability"><b>confirmCapability</b></a>
<pre>
 public void confirmCapability(EObject capability,
                               ConfirmCapability confirmer) throws <a href="ec.identity.IdentityException.html#_top_">IdentityException</a>
</pre>
<dl>
  <dd> Check for given capability. Is it in our table of registered
 capabilities?  Handle response via confirmer. This is an
 alternative to 'checkForCapability', which uses a callback
 rather than forwarding a distributor to signal success.
 XXX PESSIMISM This shouldn't be needed if channels were properly
 optimistic.
<p>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-ec.identity.html">This Package</a>  <a href="ec.identity.Identity.html#_top_">Previous</a>  <a href="ec.identity.SturdyIdentity.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
